# Slitherlink Production Environment Configuration
# 复制此文件并根据实际环境修改配置

# ==================== 服务端口配置 ====================
# 前端Next.js服务端口
PORT=3002

# 后端API服务端口  
BACKEND_PORT=8002

# 算法服务端口
ALGORITHM_PORT=8082

# ==================== 域名和URL配置 ====================
# 主域名
DOMAIN=slitherlinks.com

# 前端URL (用于CORS等)
FRONTEND_URL=https://slitherlinks.com

# 后端API URL
BACKEND_URL=https://slitherlinks.com

# 算法服务URL (内部通信)
ALGORITHM_SERVICE_URL=http://localhost:8082

# ==================== 数据库配置 ====================
# PostgreSQL数据库连接信息
DB_HOST=localhost
DB_PORT=5432
DB_NAME=slitherlink_prod
DB_USER=slitherlink_user
DB_PASSWORD=your_secure_password_here

# 数据库连接池配置
DB_POOL_MIN=2
DB_POOL_MAX=10

# 数据库SSL设置 (生产环境建议启用)
DB_SSL=false

# ==================== 安全配置 ====================
# JWT密钥 (生产环境必须更改!)
JWT_SECRET=your_super_secure_jwt_secret_key_change_this_in_production

# JWT过期时间
JWT_EXPIRES_IN=7d

# ==================== CORS配置 ====================
# 允许的前端域名 (多个用逗号分隔)
CORS_ORIGINS=https://slitherlinks.com,https://www.slitherlinks.com

# ==================== 环境配置 ====================
# 运行环境
NODE_ENV=production

# ==================== 日志配置 ====================
# 日志级别 (ERROR, WARN, INFO, DEBUG)
LOG_LEVEL=INFO

# 日志文件目录
LOG_DIR=/var/log/slitherlink

# ==================== 算法服务日志配置 ====================
# 算法服务日志文件目录
ALGORITHM_LOG_DIR=/var/log/slitherlink

# ==================== 进程管理配置 ====================
# PM2实例数量 (建议设置为CPU核心数)
PM2_INSTANCES=max

# PM2最大内存限制
PM2_MAX_MEMORY=512M

# ==================== SSL/HTTPS配置 ====================
# SSL证书路径 (Nginx配置用)
SSL_CERT_PATH=/etc/ssl/certs/slitherlinks.com.crt
SSL_KEY_PATH=/etc/ssl/private/slitherlinks.com.key

# ==================== 监控和健康检查 ====================
# 健康检查间隔(秒)
HEALTH_CHECK_INTERVAL=30

# ==================== 备份配置 ====================
# 数据库备份目录
BACKUP_DIR=/var/backups/slitherlink

# 备份保留天数
BACKUP_RETENTION_DAYS=7