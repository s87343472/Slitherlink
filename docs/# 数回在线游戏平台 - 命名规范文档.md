# 数回在线游戏平台 - 命名规范文档

## 1. 命名规范总则

### 1.1 基本原则

1. **清晰明确**：名称应该清楚表达其用途和含义
2. **一致性**：相同类型的实体使用相同的命名模式
3. **简洁性**：在保证清晰的前提下尽量简洁
4. **英文优先**：所有代码相关命名使用英文，避免拼音或中文
5. **避免缩写**：除非是广泛认知的缩写（如id、url、api等）
6. **禁用保留字**：避免使用各语言的保留关键字

### 1.2 通用禁用词汇

**禁止使用的命名**：
- `data`, `info`, `item`, `thing`, `object` 等过于泛化的词汇
- `temp`, `tmp`, `test` 等临时性词汇
- `a`, `b`, `c`, `x`, `y`, `z` 等无意义的单字母
- `foo`, `bar`, `baz` 等示例性词汇

### 1.3 命名长度建议

| 类型 | 最小长度 | 最大长度 | 建议长度 |
|------|----------|----------|----------|
| 变量名 | 3个字符 | 30个字符 | 8-15个字符 |
| 函数名 | 4个字符 | 40个字符 | 10-20个字符 |
| 类名 | 4个字符 | 30个字符 | 8-20个字符 |
| 文件名 | 3个字符 | 50个字符 | 10-25个字符 |

## 2. 前端命名规范

### 2.1 文件和目录命名

#### 2.1.1 目录命名
**规则**：使用 `kebab-case` (短横线分隔)

```
✅ 正确示例：
components/
├── game-engine/
├── ui-components/
├── user-profile/
└── leaderboard-display/

❌ 错误示例：
components/
├── GameEngine/           # 不使用PascalCase
├── ui_components/        # 不使用snake_case
├── userProfile/          # 不使用camelCase
└── LeaderBoardDisplay/   # 不使用混合命名
```

#### 2.1.2 React组件文件命名
**规则**：使用 `PascalCase` + `.tsx` 扩展名

```
✅ 正确示例：
GameBoard.tsx
LeaderboardList.tsx
UserProfileCard.tsx
TrophyDisplay.tsx
PuzzleCanvas.tsx

❌ 错误示例：
gameBoard.tsx          # 不使用camelCase
leaderboard-list.tsx   # 不使用kebab-case
user_profile_card.tsx  # 不使用snake_case
```

#### 2.1.3 其他文件命名
**规则**：使用 `camelCase` 或 `kebab-case`

```
✅ 正确示例：
utils/
├── gameHelper.ts         # 工具函数
├── apiClient.ts          # API客户端
├── dateFormatter.ts      # 格式化工具
└── validation-rules.ts   # 验证规则

hooks/
├── useGameState.ts       # 自定义Hook
├── useUserAuth.ts        # 认证Hook
└── useLeaderboard.ts     # 排行榜Hook

types/
├── gameTypes.ts          # 游戏类型定义
├── userTypes.ts          # 用户类型定义
└── apiTypes.ts           # API类型定义
```

### 2.2 React组件命名

#### 2.2.1 组件名称
**规则**：使用 `PascalCase`，名称应该描述组件的用途

```typescript
✅ 正确示例：
// 游戏相关组件
export const GameBoard: React.FC = () => { }
export const PuzzleGrid: React.FC = () => { }
export const ScoreDisplay: React.FC = () => { }
export const GameTimer: React.FC = () => { }

// UI组件
export const Button: React.FC = () => { }
export const Modal: React.FC = () => { }
export const LoadingSpinner: React.FC = () => { }
export const ErrorBoundary: React.FC = () => { }

// 页面组件
export const GamePage: React.FC = () => { }
export const LeaderboardPage: React.FC = () => { }
export const ProfilePage: React.FC = () => { }

❌ 错误示例：
export const gameBoard = () => { }        # 不使用camelCase
export const Game_Board = () => { }       # 不使用snake_case
export const game_board = () => { }       # 不使用snake_case
export const GAMEBOARD = () => { }        # 不使用UPPER_CASE
```

#### 2.2.2 Props接口命名
**规则**：组件名 + `Props` 后缀

```typescript
✅ 正确示例：
interface GameBoardProps {
  puzzleData: PuzzleData
  onLineDrawn: (lineId: string) => void
  isCompleted: boolean
}

interface ButtonProps {
  variant: 'primary' | 'secondary'
  size: 'small' | 'medium' | 'large'
  onClick: () => void
  disabled?: boolean
}

interface ModalProps {
  isOpen: boolean
  onClose: () => void
  title: string
  children: React.ReactNode
}

❌ 错误示例：
interface GameBoardProperties { }    # 不使用完整单词
interface GameBoardInterface { }     # 不使用Interface后缀
interface IGameBoard { }             # 不使用I前缀
interface GameBoard_Props { }        # 不使用snake_case
```

### 2.3 变量和函数命名

#### 2.3.1 变量命名
**规则**：使用 `camelCase`，布尔值以 `is/has/can/should` 开头

```typescript
✅ 正确示例：
// 普通变量
const currentScore = 1500
const playerName = 'Alice'
const puzzleData = puzzle.getData()
const gameStartTime = Date.now()

// 布尔值变量
const isGameCompleted = false
const hasLeaderboardAccess = true
const canSubmitScore = user.isPaid
const shouldShowAds = !user.hasAdFreeAccess

// 数组变量
const playerScores = [1500, 1200, 980]
const trophyList = user.getTrophies()
const errorMessages = validation.getErrors()

// 对象变量
const gameConfig = {
  difficulty: 'hard',
  gridSize: 10
}
const userPreferences = {
  theme: 'dark',
  soundEnabled: true
}

❌ 错误示例：
const current_score = 1500        # 不使用snake_case
const CurrentScore = 1500         # 不使用PascalCase
const CURRENT_SCORE = 1500        # 不使用UPPER_CASE
const completed = false           # 布尔值应该以is/has开头
const access = true               # 语义不明确
```

#### 2.3.2 函数命名
**规则**：使用 `camelCase`，动词开头，表达明确的行为

```typescript
✅ 正确示例：
// 事件处理函数
const handleLineClick = (lineId: string) => { }
const handleGameComplete = () => { }
const handleUserLogin = (credentials: LoginData) => { }
const handleScoreSubmit = () => { }

// 获取数据函数
const fetchUserProfile = async () => { }
const getCurrentPuzzle = () => { }
const calculateScore = (timeElapsed: number, errors: number) => { }
const validatePuzzleSolution = (solution: Solution) => { }

// 状态更新函数
const updateGameState = (newState: GameState) => { }
const setCurrentUser = (user: User) => { }
const toggleGamePause = () => { }
const resetGameProgress = () => { }

// 工具函数
const formatTime = (seconds: number) => { }
const generatePuzzleId = () => { }
const encryptPassword = (password: string) => { }
const parseGameData = (rawData: string) => { }

❌ 错误示例：
const lineClick = () => { }           # 缺少动词
const handleClick = () => { }         # 过于泛化
const handle_line_click = () => { }   # 不使用snake_case
const HandleLineClick = () => { }     # 不使用PascalCase
const getUser = () => { }             # 应该更具体：fetchUser/getCurrentUser
```

### 2.4 Hook命名规范

#### 2.4.1 自定义Hook命名
**规则**：以 `use` 开头 + `camelCase`

```typescript
✅ 正确示例：
// 游戏相关Hook
const useGameState = () => { }
const usePuzzleData = () => { }
const useGameTimer = () => { }
const useScoreCalculation = () => { }

// 用户相关Hook
const useUserAuth = () => { }
const useUserProfile = () => { }
const useUserPermissions = () => { }

// API相关Hook
const useApiCall = () => { }
const useLeaderboardData = () => { }
const useTrophyList = () => { }

// UI相关Hook
const useModal = () => { }
const useLocalStorage = () => { }
const useResponsiveLayout = () => { }

❌ 错误示例：
const gameState = () => { }           # 缺少use前缀
const useGame = () => { }             # 过于泛化
const use_game_state = () => { }      # 不使用snake_case
const UseGameState = () => { }        # 不使用PascalCase
```

### 2.5 状态管理命名

#### 2.5.1 Zustand Store命名
**规则**：功能描述 + `Store` 后缀

```typescript
✅ 正确示例：
// Store定义
export const useGameStore = create<GameStore>(() => ({ }))
export const useUserStore = create<UserStore>(() => ({ }))
export const useUIStore = create<UIStore>(() => ({ }))
export const useLeaderboardStore = create<LeaderboardStore>(() => ({ }))

// Store接口
interface GameStore {
  // 状态属性
  currentPuzzle: PuzzleData | null
  gameStatus: GameStatus
  score: number
  
  // 动作方法
  loadPuzzle: (puzzleId: string) => void
  updateScore: (score: number) => void
  completeGame: () => void
  resetGame: () => void
}

❌ 错误示例：
export const gameStore = create(() => ({ }))      # 不使用use前缀
export const useGame = create(() => ({ }))        # 过于简洁
export const useGameData = create(() => ({ }))    # 语义不明确
```

### 2.6 CSS类名命名

#### 2.6.1 Tailwind CSS类名组织
**规则**：按功能分组，使用一致的顺序

```tsx
✅ 正确示例：
<div className="
  // 布局相关
  relative flex items-center justify-center
  // 尺寸相关
  w-full h-screen max-w-4xl
  // 间距相关
  p-4 m-2
  // 颜色和样式
  bg-white border border-gray-200 rounded-lg shadow-md
  // 响应式
  md:p-6 lg:max-w-6xl
  // 状态
  hover:shadow-lg focus:outline-none
">

❌ 错误示例：
<div className="bg-white relative w-full hover:shadow-lg p-4 flex border items-center">
// 类名顺序混乱，难以阅读
```

#### 2.6.2 自定义CSS类名
**规则**：使用 `kebab-case`，采用BEM命名法

```css
✅ 正确示例：
/* 组件块 */
.game-board { }
.leaderboard-list { }
.user-profile { }

/* 元素 */
.game-board__grid { }
.game-board__cell { }
.game-board__line { }

/* 修饰符 */
.game-board--completed { }
.game-board__cell--highlighted { }
.game-board__line--correct { }
.game-board__line--incorrect { }

❌ 错误示例：
.gameBoard { }              # 不使用camelCase
.game_board { }             # 不使用snake_case
.GameBoard { }              # 不使用PascalCase
.game-board-grid { }        # 应该使用BEM的__连接符
```

## 3. 后端命名规范

### 3.1 文件和目录命名

#### 3.1.1 目录结构命名
**规则**：使用 `camelCase` 或 `kebab-case`

```
✅ 正确示例：
src/
├── routes/              # API路由
├── services/            # 业务逻辑层
├── models/              # 数据模型
├── middleware/          # 中间件
├── utils/               # 工具函数
├── config/              # 配置文件
├── types/               # TypeScript类型
└── tests/               # 测试文件

❌ 错误示例：
src/
├── Routes/              # 不使用PascalCase
├── business_logic/      # 不使用snake_case
├── data_models/         # 不使用snake_case
└── Middleware/          # 不使用PascalCase
```

#### 3.1.2 文件命名
**规则**：使用 `camelCase` + 功能后缀

```
✅ 正确示例：
routes/
├── authRoutes.ts        # 认证路由
├── gameRoutes.ts        # 游戏路由
├── userRoutes.ts        # 用户路由
└── leaderboardRoutes.ts # 排行榜路由

services/
├── AuthService.ts       # 认证服务
├── GameService.ts       # 游戏服务
├── PaymentService.ts    # 支付服务
└── EmailService.ts      # 邮件服务

models/
├── User.ts              # 用户模型
├── Puzzle.ts            # 题目模型
├── GameSession.ts       # 游戏会话模型
└── Trophy.ts            # 奖杯模型

❌ 错误示例：
routes/
├── auth.ts              # 应该包含Routes后缀
├── game_routes.ts       # 不使用snake_case
└── user-routes.ts       # 不使用kebab-case

services/
├── authService.ts       # Service应该大写
├── Auth_Service.ts      # 不使用snake_case
└── auth-service.ts      # 不使用kebab-case
```

### 3.2 类和接口命名

#### 3.2.1 类命名
**规则**：使用 `PascalCase`，名词性质

```typescript
✅ 正确示例：
// 服务类
export class AuthService {
  async login(credentials: LoginCredentials): Promise<AuthResult> { }
  async register(userData: RegisterData): Promise<User> { }
  async validateToken(token: string): Promise<boolean> { }
}

export class GameService {
  async createGameSession(userId: string, puzzleId: string): Promise<GameSession> { }
  async updateScore(sessionId: string, score: number): Promise<void> { }
  async completeGame(sessionId: string): Promise<CompletionResult> { }
}

// 数据模型类
export class User {
  constructor(
    public id: string,
    public email: string,
    public username: string,
    public createdAt: Date
  ) { }
  
  hasPermission(permission: string): boolean { }
  updateProfile(data: ProfileUpdateData): void { }
}

export class Puzzle {
  constructor(
    public id: string,
    public date: string,
    public difficulty: Difficulty,
    public gridSize: number,
    public puzzleData: PuzzleData
  ) { }
  
  validateSolution(solution: Solution): boolean { }
  calculateScore(timeElapsed: number, errors: number): number { }
}

❌ 错误示例：
export class authService { }      # 不使用camelCase
export class auth_service { }     # 不使用snake_case
export class AUTH_SERVICE { }     # 不使用UPPER_CASE
export class gameManager { }      # 应该使用PascalCase
```

#### 3.2.2 接口命名
**规则**：使用 `PascalCase`，不使用 `I` 前缀

```typescript
✅ 正确示例：
// 数据传输对象
interface LoginCredentials {
  email: string
  password: string
}

interface RegisterData {
  email: string
  username: string
  password: string
  displayName?: string
}

interface GameSession {
  id: string
  userId: string
  puzzleId: string
  startedAt: Date
  completedAt?: Date
  score: number
  errors: number
}

// API响应接口
interface ApiResponse<T> {
  success: boolean
  data?: T
  error?: ApiError
  meta?: ResponseMeta
}

interface LeaderboardEntry {
  rank: number
  userId: string
  username: string
  score: number
  completionTime: number
}

❌ 错误示例：
interface IUser { }              # 不使用I前缀
interface userInterface { }      # 不使用camelCase
interface User_Interface { }     # 不使用snake_case
interface LOGIN_CREDENTIALS { }  # 不使用UPPER_CASE
```

### 3.3 函数和方法命名

#### 3.3.1 Service方法命名
**规则**：使用 `camelCase`，动词开头

```typescript
✅ 正确示例：
export class UserService {
  // CRUD操作
  async createUser(userData: CreateUserData): Promise<User> { }
  async getUserById(id: string): Promise<User | null> { }
  async updateUser(id: string, updates: UserUpdates): Promise<User> { }
  async deleteUser(id: string): Promise<void> { }
  
  // 业务操作
  async authenticateUser(credentials: LoginCredentials): Promise<AuthResult> { }
  async validateUserEmail(email: string): Promise<boolean> { }
  async resetUserPassword(email: string): Promise<void> { }
  async upgradeUserAccount(userId: string, productType: string): Promise<void> { }
  
  // 查询操作
  async findUserByEmail(email: string): Promise<User | null> { }
  async getUserPermissions(userId: string): Promise<UserPermissions> { }
  async getUserGameHistory(userId: string): Promise<GameSession[]> { }
  async getUserTrophies(userId: string): Promise<Trophy[]> { }
}

❌ 错误示例：
async user(id: string) { }           # 缺少动词
async getUser() { }                  # 参数语义不明确
async get_user_by_id() { }           # 不使用snake_case
async GetUser() { }                  # 不使用PascalCase
async userById() { }                 # 缺少动词
```

#### 3.3.2 工具函数命名
**规则**：使用 `camelCase`，描述具体功能

```typescript
✅ 正确示例：
// 数据验证
export const validateEmail = (email: string): boolean => { }
export const validatePassword = (password: string): ValidationResult => { }
export const validatePuzzleSolution = (solution: Solution): boolean => { }

// 数据转换
export const formatGameScore = (score: number): string => { }
export const parseGameData = (rawData: string): GameData => { }
export const convertTimeToSeconds = (timeString: string): number => { }
export const transformUserData = (dbUser: DbUser): User => { }

// 生成器函数
export const generateUserId = (): string => { }
export const generateSecureToken = (length: number): string => { }
export const createGameSession = (userId: string, puzzleId: string): GameSession => { }

// 计算函数
export const calculateGameScore = (timeElapsed: number, errors: number): number => { }
export const determineGameDifficulty = (gridSize: number): Difficulty => { }
export const computeLeaderboardRank = (score: number, scores: number[]): number => { }

❌ 错误示例：
export const email = () => { }           # 缺少动词
export const checkEmail = () => { }      # 应该更具体：validateEmail
export const validate_email = () => { }  # 不使用snake_case
export const ValidateEmail = () => { }   # 不使用PascalCase
```

### 3.4 数据库相关命名

#### 3.4.1 数据库表命名
**规则**：使用 `snake_case`，复数形式

```sql
✅ 正确示例：
-- 用户相关表
users                    -- 用户主表
user_permissions         -- 用户权限表
user_sessions            -- 用户会话表

-- 游戏相关表
puzzles                  -- 题目表
game_sessions            -- 游戏会话表
leaderboards            -- 排行榜表
trophies                -- 奖杯表

-- 支付相关表
purchases               -- 购买记录表
payment_intents         -- 支付意图表
subscription_plans      -- 订阅计划表

-- 系统相关表
audit_logs             -- 审计日志表
system_configs         -- 系统配置表
email_templates        -- 邮件模板表

❌ 错误示例：
User                   # 不使用单数
userPermissions        # 不使用camelCase  
user-permissions       # 不使用kebab-case
UserPermissions        # 不使用PascalCase
```

#### 3.4.2 字段命名
**规则**：使用 `snake_case`，描述性名称

```sql
✅ 正确示例：
-- users表
id                     -- 主键，总是使用id
email                  -- 邮箱地址
username               -- 用户名
password_hash          -- 密码哈希
display_name           -- 显示名称
created_at             -- 创建时间
updated_at             -- 更新时间
last_login_at          -- 最后登录时间
is_active              -- 是否激活
email_verified_at      -- 邮箱验证时间

-- game_sessions表
id                     -- 主键
user_id                -- 外键，指向users.id
puzzle_id              -- 外键，指向puzzles.id
started_at             -- 开始时间
completed_at           -- 完成时间
duration_seconds       -- 游戏时长（秒）
score                  -- 得分
errors_count           -- 错误次数
is_completed           -- 是否完成
is_correct             -- 答案是否正确

❌ 错误示例：
userId                 # 不使用camelCase
user-id               # 不使用kebab-case
UserId                # 不使用PascalCase
user_ID               # 不使用混合大小写
uid                   # 避免过度缩写
creation_date         # 应该使用created_at
modification_time     # 应该使用updated_at
```

#### 3.4.3 索引命名
**规则**：`idx_` + 表名 + 字段名

```sql
✅ 正确示例：
-- 单字段索引
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_game_sessions_user_id ON game_sessions(user_id);
CREATE INDEX idx_puzzles_date ON puzzles(date);

-- 复合索引
CREATE INDEX idx_game_sessions_user_date ON game_sessions(user_id, started_at);
CREATE INDEX idx_leaderboards_type_period ON leaderboards(type, period_start);
CREATE INDEX idx_trophies_user_awarded ON trophies(user_id, awarded_at);

-- 唯一索引
CREATE UNIQUE INDEX idx_users_email_unique ON users(email);
CREATE UNIQUE INDEX idx_puzzles_date_unique ON puzzles(date);

❌ 错误示例：
CREATE INDEX email_index ON users(email);        # 不标准的命名
CREATE INDEX users_email ON users(email);        # 缺少idx前缀
CREATE INDEX idx_email ON users(email);          # 缺少表名
```

### 3.5 API接口命名

#### 3.5.1 路由路径命名
**规则**：使用 `kebab-case`，RESTful风格

```typescript
✅ 正确示例：
// 认证相关
POST   /api/auth/register           # 用户注册
POST   /api/auth/login              # 用户登录
POST   /api/auth/logout             # 用户登出
POST   /api/auth/refresh-token      # 刷新令牌
POST   /api/auth/forgot-password    # 忘记密码
POST   /api/auth/reset-password     # 重置密码

// 用户相关
GET    /api/users/profile           # 获取个人资料
PUT    /api/users/profile           # 更新个人资料
GET    /api/users/permissions       # 获取用户权限
GET    /api/users/game-history      # 获取游戏历史
GET    /api/users/trophies          # 获取用户奖杯

// 游戏相关
GET    /api/puzzles/daily           # 获取每日题目
GET    /api/puzzles/daily/:date     # 获取指定日期题目
POST   /api/game-sessions           # 创建游戏会话
PUT    /api/game-sessions/:id       # 更新游戏会话
POST   /api/game-sessions/:id/submit # 提交游戏结果

// 排行榜相关
GET    /api/leaderboard/daily       # 每日排行榜
GET    /api/leaderboard/weekly      # 每周排行榜
GET    /api/leaderboard/monthly     # 每月排行榜
GET    /api/leaderboard/all-time    # 总排行榜

❌ 错误示例：
POST   /api/auth/registerUser       # 不使用camelCase
GET    /api/users/getUserProfile    # 动词应该用HTTP方法表示
GET    /api/user_profile            # 不使用snake_case
POST   /api/gameSession/create      # 不使用camelCase+动词
GET    /api/leaderboard_daily       # 不使用snake_case
```

#### 3.5.2 请求/响应参数命名
**规则**：使用 `camelCase`

```typescript
✅ 正确示例：
// 请求参数
interface LoginRequest {
  email: string
  password: string
  rememberMe?: boolean
}

interface RegisterRequest {
  email: string
  username: string
  password: string
  displayName?: string
  agreeToTerms: boolean
}

interface GameSubmissionRequest {
  sessionId: string
  solutionData: SolutionData
  completionTime: number
  errorCount: number
}

// 响应数据
interface UserProfileResponse {
  id: string
  email: string
  username: string
  displayName: string
  createdAt: string
  lastLoginAt: string
  permissions: {
    hasLeaderboardAccess: boolean
    hasAdFreeAccess: boolean
  }
}

interface LeaderboardResponse {
  entries: Array<{
    rank: number
    userId: string
    username: string
    score: number
    completionTime: number
  }>
  pagination: {
    currentPage: number
    totalPages: number
    totalItems: number
  }
  updatedAt: string
}

❌ 错误示例：
interface LoginRequest {
  Email: string              # 不使用PascalCase
  password_hash: string      # 不使用snake_case
  remember_me: boolean       # 不使用snake_case
}

interface UserResponse {
  user_id: string           # 不使用snake_case
  created_date: string      # 应该使用createdAt
  last_login: string        # 应该使用lastLoginAt
}
```

## 4. Git工作流命名规范

### 4.1 分支命名规范

#### 4.1.1 分支类型和命名
**规则**：`类型/简短描述` 格式

```
✅ 正确示例：
main                       # 主分支
develop                    # 开发分支

# 功能分支
feature/user-authentication
feature/game-engine
feature/leaderboard-system
feature/payment-integration

# 修复分支
hotfix/login-error-fix
hotfix/score-calculation-bug
hotfix/memory-leak-fix

# 发布分支
release/v1.0.0
release/v1.1.0

# 实验分支
experiment/new-game-mode
experiment/ai-puzzle-generator

❌ 错误示例：
Feature/UserAuth           # 不使用PascalCase
feature_user_auth          # 不使用snake_case
fix/bug                    # 描述过于简单
user-auth-feature          # 缺少类型前缀
HOTFIX/LOGIN-BUG          # 不使用全大写
```

#### 4.1.2 分支生命周期管理
**规则**：分支命名应该反映其生命周期和用途

```
✅ 正确示例：
# 长期分支
main                       # 生产版本
develop                    # 开发集成

# 短期分支（完成后删除）
feature/phaser-game-integration
hotfix/stripe-webhook-timeout
release/v1.2.0-beta

# 个人开发分支
dev/john/experimental-ui
dev/alice/performance-optimization

❌ 错误示例：
temp-branch               # 过于临时性
johns-work               # 个人标识不清晰
test                     # 用途不明确
backup                   # 不应该用于备份
```

### 4.2 提交信息规范

#### 4.2.1 提交信息格式
**规则**：遵循 Conventional Commits 规范

```
格式：<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**类型定义**：
- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档更新
- `style`: 代码格式修改（不影响功能）
- `refactor`: 代码重构
- `perf`: 性能优化
- `test`: 测试相关
- `build`: 构建系统或依赖更新
- `ci`: CI/CD配置修改
- `chore`: 其他不影响代码的更新

```
✅ 正确示例：
feat(game): add Phaser.js game engine integration
fix(auth): resolve JWT token expiration issue
docs(api): update authentication endpoint documentation
style(frontend): format code with prettier
refactor(leaderboard): optimize ranking calculation algorithm
perf(database): add indexes for game_sessions table
test(payment): add unit tests for Stripe integration
build(deps): upgrade Next.js to version 15
ci(deploy): add automated deployment workflow
chore(config): update environment variables

# 带有详细描述的提交
feat(leaderboard): implement real-time ranking updates

- Add WebSocket connection for live leaderboard updates
- Implement efficient ranking calculation algorithm
- Add caching layer for improved performance
- Update frontend components to handle real-time data

Closes #123

# Breaking change 提交
feat(api)!: change authentication response format

BREAKING CHANGE: The authentication endpoint now returns user permissions in a nested object instead of flat properties.

❌ 错误示例：
Add game feature              # 缺少类型和scope
fix bug                       # 描述过于简单
Updated some files            # 描述不明确
WIP: working on auth          # 不应该提交WIP状态
Fixed everything              # 描述过于夸张
feat: 添加游戏功能             # 不应该使用中文描述
```

#### 4.2.2 提交消息最佳实践

```
✅ 好的提交消息特点：
1. 使用英文描述
2. 动词使用现在时态（add, fix, update）
3. 描述具体的变更内容
4. 包含影响范围（scope）
5. 保持简洁但信息完整

✅ 提交频率建议：
- 功能开发：每完成一个小功能就提交
- Bug修复：每修复一个bug就提交
- 重构：每完成一个重构单元就提交
- 避免一次性提交大量修改

✅ 提交内容原则：
- 每次提交只包含一个逻辑修改
- 确保提交后代码可以正常运行
- 避免提交调试代码或临时文件
- 提交前进行代码review
```

### 4.3 标签命名规范

#### 4.3.1 版本标签
**规则**：遵循语义化版本（Semantic Versioning）

```
✅ 正确示例：
v1.0.0                    # 主版本.次版本.修订版本
v1.0.1                    # 修复版本
v1.1.0                    # 新功能版本
v2.0.0                    # 重大更新版本

# 预发布版本
v1.0.0-alpha.1           # Alpha测试版本
v1.0.0-beta.1            # Beta测试版本
v1.0.0-rc.1              # Release Candidate版本

# 特殊标签
v1.0.0-hotfix.1          # 紧急修复版本

❌ 错误示例：
1.0.0                     # 缺少v前缀
version-1.0.0            # 不使用标准格式
release_1_0_0            # 不使用下划线
V1.0.0                   # v应该小写
```

## 5. 常量和枚举命名

### 5.1 常量命名规范

#### 5.1.1 全局常量
**规则**：使用 `UPPER_SNAKE_CASE`

```typescript
✅ 正确示例：
// 游戏配置常量
export const GAME_CONFIG = {
  MIN_GRID_SIZE: 5,
  MAX_GRID_SIZE: 15,
  DEFAULT_GAME_DURATION: 600,  // 10分钟
  MAX_ERROR_COUNT: 10,
  SCORE_MULTIPLIER: 100
} as const

// API配置常量
export const API_ENDPOINTS = {
  AUTH_LOGIN: '/api/auth/login',
  AUTH_REGISTER: '/api/auth/register',
  GAME_SUBMIT: '/api/game-sessions/submit',
  LEADERBOARD_DAILY: '/api/leaderboard/daily'
} as const

// 时间常量
export const TIME_CONSTANTS = {
  ONE_SECOND: 1000,
  ONE_MINUTE: 60 * 1000,
  ONE_HOUR: 60 * 60 * 1000,
  ONE_DAY: 24 * 60 * 60 * 1000
} as const

// 错误代码常量
export const ERROR_CODES = {
  UNAUTHORIZED: 'UNAUTHORIZED',
  INVALID_CREDENTIALS: 'INVALID_CREDENTIALS',
  GAME_NOT_FOUND: 'GAME_NOT_FOUND',
  PAYMENT_FAILED: 'PAYMENT_FAILED'
} as const

❌ 错误示例：
export const gameConfig = { }        # 不使用camelCase
export const game_config = { }       # 应该全大写
export const GameConfig = { }        # 不使用PascalCase
export const GAMECONFIG = { }        # 缺少下划线分隔
```

#### 5.1.2 组件内常量
**规则**：使用 `UPPER_SNAKE_CASE`，组件作用域内

```typescript
✅ 正确示例：
export const GameBoard: React.FC = () => {
  // 组件内常量
  const ANIMATION_DURATION = 300
  const GRID_CELL_SIZE = 40
  const TOUCH_THRESHOLD = 10
  const DEFAULT_DIFFICULTY = 'medium'
  
  // 样式常量
  const BUTTON_VARIANTS = {
    PRIMARY: 'bg-blue-500 hover:bg-blue-600',
    SECONDARY: 'bg-gray-500 hover:bg-gray-600',
    DANGER: 'bg-red-500 hover:bg-red-600'
  } as const
  
  return <div>...</div>
}

❌ 错误示例：
const animationDuration = 300        # 不使用camelCase作为常量
const ANIMATIONDURATION = 300        # 缺少下划线分隔
const Animation_Duration = 300       # 不使用混合大小写
```

### 5.2 枚举命名规范

#### 5.2.1 TypeScript枚举
**规则**：枚举名使用 `PascalCase`，枚举值使用 `UPPER_SNAKE_CASE`

```typescript
✅ 正确示例：
// 游戏难度枚举
export enum GameDifficulty {
  EASY = 'easy',
  MEDIUM = 'medium',
  HARD = 'hard',
  MASTER = 'master',
  NINJA = 'ninja'
}

// 用户权限枚举
export enum UserPermission {
  READ_ONLY = 'read_only',
  LEADERBOARD_ACCESS = 'leaderboard_access',
  AD_FREE_ACCESS = 'ad_free_access',
  ADMIN_ACCESS = 'admin_access'
}

// 游戏状态枚举
export enum GameStatus {
  NOT_STARTED = 'not_started',
  IN_PROGRESS = 'in_progress',
  PAUSED = 'paused',
  COMPLETED = 'completed',
  ABANDONED = 'abandoned'
}

// 支付状态枚举
export enum PaymentStatus {
  PENDING = 'pending',
  PROCESSING = 'processing',
  COMPLETED = 'completed',
  FAILED = 'failed',
  REFUNDED = 'refunded'
}

// 奖杯类型枚举
export enum TrophyType {
  DAILY_GOLD = 'daily_gold',
  DAILY_SILVER = 'daily_silver',
  DAILY_BRONZE = 'daily_bronze',
  WEEKLY_GOLD = 'weekly_gold',
  WEEKLY_SILVER = 'weekly_silver',
  WEEKLY_BRONZE = 'weekly_bronze',
  MONTHLY_GOLD = 'monthly_gold',
  MONTHLY_SILVER = 'monthly_silver',
  MONTHLY_BRONZE = 'monthly_bronze'
}

❌ 错误示例：
enum gameDifficulty {               # 不使用camelCase
  easy = 'easy',                    # 枚举值应该大写
  Medium = 'medium',                # 枚举值不使用PascalCase
  HARD = 'Hard'                     # 枚举值应该与字符串值一致
}

enum GAME_STATUS {                  # 不使用全大写
  notStarted = 'not_started',       # 不使用camelCase
  in-progress = 'in-progress'       # 不使用kebab-case
}
```

#### 5.2.2 联合类型作为枚举
**规则**：当枚举值较少时，可以使用联合类型

```typescript
✅ 正确示例：
// 简单的联合类型
export type Theme = 'light' | 'dark'
export type Language = 'en' | 'zh' | 'es' | 'fr'
export type SortOrder = 'asc' | 'desc'
export type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'

// 带有常量断言的对象
export const SORT_ORDERS = {
  ASCENDING: 'asc',
  DESCENDING: 'desc'
} as const

export type SortOrder = typeof SORT_ORDERS[keyof typeof SORT_ORDERS]

❌ 错误示例：
type theme = 'Light' | 'Dark'        # 不使用camelCase，值应该小写
type LANGUAGE = 'EN' | 'ZH'          # 不使用全大写
type Sort_Order = 'ASC' | 'DESC'     # 不使用snake_case
```

## 6. 环境变量命名规范

### 6.1 环境变量分类

#### 6.1.1 数据库配置
**规则**：使用 `UPPER_SNAKE_CASE` + 前缀

```bash
✅ 正确示例：
# PostgreSQL数据库
DATABASE_URL=postgresql://user:pass@localhost:5432/slitherlink
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=slitherlink
DATABASE_USER=postgres
DATABASE_PASSWORD=securepassword
DATABASE_SSL=true
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20

# Redis缓存
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redispassword
REDIS_DB=0

❌ 错误示例：
db_url=...                  # 不使用全大写
DatabaseUrl=...             # 不使用PascalCase
database-url=...            # 不使用kebab-case
```

#### 6.1.2 第三方服务配置
**规则**：服务名 + 配置项

```bash
✅ 正确示例：
# Stripe支付
STRIPE_PUBLIC_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# SendGrid邮件
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=noreply@slitherlink.game
SENDGRID_FROM_NAME="数回挑战"

# Google Analytics
GA_TRACKING_ID=G-XXXXXXXXXX
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentry错误追踪
SENTRY_DSN=https://...
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=v1.0.0

❌ 错误示例：
stripeKey=...               # 不使用camelCase
stripe_public_key=...       # 应该全大写
STRIPE-PUBLIC-KEY=...       # 不使用kebab-case
```

#### 6.1.3 应用配置
**规则**：功能描述 + 配置项

```bash
✅ 正确示例：
# 应用基础配置
NODE_ENV=production
PORT=3000
API_VERSION=v1
APP_NAME="Slitherlink Game"
APP_URL=https://slitherlink.game
FRONTEND_URL=https://slitherlink.game
API_BASE_URL=https://api.slitherlink.game

# JWT配置
JWT_SECRET=your-super-secret-key
JWT_ACCESS_TOKEN_EXPIRY=1h
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_ISSUER=slitherlink-game
JWT_AUDIENCE=slitherlink-users

# 安全配置
ENCRYPTION_KEY=your-encryption-key
ENCRYPTION_SALT=your-salt-value
CORS_ORIGIN=https://slitherlink.game
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

❌ 错误示例：
nodeEnv=production          # 不使用camelCase
jwt_secret=...              # 应该全大写
app-name=...                # 不使用kebab-case
```

### 6.2 环境文件组织

#### 6.2.1 环境文件命名
**规则**：`.env` + 环境后缀

```
✅ 正确示例：
.env                        # 默认环境变量
.env.local                  # 本地开发环境
.env.development            # 开发环境
.env.test                   # 测试环境
.env.staging                # 预发布环境
.env.production             # 生产环境
.env.example                # 示例文件（版本控制）

❌ 错误示例：
env.local                   # 缺少点前缀
.environment               # 不使用标准命名
.env_development           # 不使用下划线
.env-dev                   # 不使用标准后缀
```

## 7. 测试文件命名规范

### 7.1 测试文件命名

#### 7.1.1 单元测试文件
**规则**：被测试文件名 + `.test.ts` 或 `.spec.ts`

```
✅ 正确示例：
src/
├── services/
│   ├── AuthService.ts
│   ├── AuthService.test.ts      # 单元测试
│   ├── GameService.ts
│   └── GameService.test.ts

├── utils/
│   ├── gameHelper.ts
│   ├── gameHelper.test.ts
│   ├── validation.ts
│   └── validation.test.ts

├── components/
│   ├── GameBoard.tsx
│   ├── GameBoard.test.tsx
│   ├── LeaderboardList.tsx
│   └── LeaderboardList.test.tsx

❌ 错误示例：
AuthService_test.ts         # 不使用下划线
AuthServiceTest.ts          # 不使用Test后缀
auth-service.test.ts        # 与原文件命名不一致
test-auth-service.ts        # 不使用test前缀
```

#### 7.1.2 集成测试文件
**规则**：功能描述 + `.integration.test.ts`

```
✅ 正确示例：
tests/
├── integration/
│   ├── auth.integration.test.ts           # 认证集成测试
│   ├── game-flow.integration.test.ts      # 游戏流程集成测试
│   ├── payment.integration.test.ts        # 支付集成测试
│   └── leaderboard.integration.test.ts    # 排行榜集成测试

❌ 错误示例：
authIntegration.test.ts     # 不使用kebab-case
auth_integration_test.ts    # 不使用snake_case
integration-auth.test.ts    # 顺序不对
```

#### 7.1.3 端到端测试文件
**规则**：用户场景 + `.e2e.test.ts`

```
✅ 正确示例：
e2e/
├── user-registration.e2e.test.ts          # 用户注册流程
├── game-completion.e2e.test.ts            # 游戏完成流程
├── payment-process.e2e.test.ts            # 支付流程
├── leaderboard-ranking.e2e.test.ts        # 排行榜查看
└── trophy-earning.e2e.test.ts             # 奖杯获得流程

❌ 错误示例：
userRegistration.e2e.ts     # 缺少test后缀
user_registration.e2e.ts    # 不使用snake_case
e2e.user.registration.ts    # 格式不标准
```

### 7.2 测试函数命名

#### 7.2.1 测试套件和用例命名
**规则**：使用 `describe` 和 `it` 的清晰描述

```typescript
✅ 正确示例：
describe('AuthService', () => {
  describe('login method', () => {
    it('should return user data when credentials are valid', async () => {
      // 测试实现
    })
    
    it('should throw error when email is invalid', async () => {
      // 测试实现
    })
    
    it('should throw error when password is incorrect', async () => {
      // 测试实现
    })
    
    it('should update last login time on successful login', async () => {
      // 测试实现
    })
  })
  
  describe('register method', () => {
    it('should create new user when data is valid', async () => {
      // 测试实现
    })
    
    it('should hash password before saving', async () => {
      // 测试实现
    })
    
    it('should throw error when email already exists', async () => {
      // 测试实现
    })
  })
})

describe('GameBoard component', () => {
  describe('rendering', () => {
    it('should render grid with correct size', () => {
      // 测试实现
    })
    
    it('should display numbers in correct positions', () => {
      // 测试实现
    })
  })
  
  describe('user interactions', () => {
    it('should draw line when user clicks between grid points', () => {
      // 测试实现
    })
    
    it('should remove line when user clicks existing line', () => {
      // 测试实现
    })
    
    it('should mark line as blocked when user right-clicks', () => {
      // 测试实现
    })
  })
})

❌ 错误示例：
describe('AuthService tests', () => {        # 不需要"tests"后缀
  it('login works', () => {                  # 描述过于简单
    // 测试实现
  })
  
  it('should login user', () => {            # 描述不够具体
    // 测试实现
  })
  
  it('test invalid email', () => {           # 不使用"test"开头
    // 测试实现
  })
})
```

## 8. 文档和注释规范

### 8.1 代码注释规范

#### 8.1.1 函数和方法注释
**规则**：使用JSDoc格式

```typescript
✅ 正确示例：
/**
 * 计算游戏得分
 * @param timeElapsed - 游戏耗时（秒）
 * @param errors - 错误次数
 * @param difficulty - 游戏难度
 * @returns 计算后的得分
 * @throws {Error} 当参数无效时抛出错误
 * @example
 * ```typescript
 * const score = calculateGameScore(300, 2, 'medium');
 * console.log(score); // 1400
 * ```
 */
export function calculateGameScore(
  timeElapsed: number,
  errors: number,
  difficulty: GameDifficulty
): number {
  if (timeElapsed <= 0 || errors < 0) {
    throw new Error('Invalid parameters for score calculation')
  }
  
  // 基础分数根据难度确定
  const baseScore = getDifficultyBaseScore(difficulty)
  
  // 时间惩罚：超过预期时间的部分会扣分
  const timePenalty = Math.max(0, timeElapsed - getExpectedTime(difficulty)) * 2
  
  // 错误惩罚：每个错误扣50分
  const errorPenalty = errors * 50
  
  return Math.max(100, baseScore - timePenalty - errorPenalty)
}

❌ 错误示例：
// 计算分数
function calculateScore(time, errors, diff) {    # 缺少详细注释
  return 1000 - time - errors * 50              # 缺少逻辑说明
}

/* 这个函数用来计算游戏分数，输入时间和错误数 */
function calc(t, e) {                            # 函数名和参数名不清晰
  // TODO: 实现计算逻辑
}
```

#### 8.1.2 复杂逻辑注释
**规则**：解释为什么这样做，而不是做什么

```typescript
✅ 正确示例：
export class LeaderboardService {
  async updateRankings(): Promise<void> {
    // 使用分布式锁防止并发更新导致的数据不一致
    // 多个服务器实例同时更新排行榜可能导致排名错乱
    const lockKey = 'leaderboard:update:lock'
    const lockAcquired = await this.cache.acquireLock(lockKey, 300)
    
    if (!lockAcquired) {
      logger.warn('Failed to acquire leaderboard update lock, skipping update')
      return
    }
    
    try {
      // 批量查询所有需要更新的游戏记录
      // 使用窗口函数一次性计算排名，避免多次查询
      const rankings = await this.db.query(`
        SELECT 
          user_id,
          score,
          ROW_NUMBER() OVER (ORDER BY score DESC, completed_at ASC) as rank
        FROM game_sessions 
        WHERE DATE(completed_at) = CURRENT_DATE
          AND is_completed = true
      `)
      
      // 使用批量更新减少数据库操作次数
      // 单条更新在数据量大时会导致性能问题
      await this.batchUpdateRankings(rankings)
      
    } finally {
      await this.cache.releaseLock(lockKey)
    }
  }
}

❌ 错误示例：
// 更新排行榜
async updateRankings() {
  const data = await this.db.query('SELECT ...')  # 没有解释查询逻辑
  for (let item of data) {                         # 没有解释为什么用循环
    await this.updateRank(item)                    # 没有解释性能影响
  }
}
```

### 8.2 README文档规范

#### 8.2.1 项目README结构
**规则**：使用标准的README结构

```markdown
✅ 正确示例：
# 数回在线游戏平台

## 项目简介
数回是一个在线逻辑拼图游戏平台，提供每日挑战、排行榜竞技、奖杯收集等功能。

## 功能特性
- 🎮 流畅的游戏体验
- 🏆 实时排行榜
- 🎯 每日挑战
- 💎 奖杯收集系统

## 技术栈
- 前端：Next.js 15 + React + TypeScript + Phaser.js
- 后端：Node.js + Express + PostgreSQL + Redis
- 部署：Docker + AWS EC2

## 快速开始

### 环境要求
- Node.js 20+
- PostgreSQL 15+
- Redis 7+

### 安装步骤
```bash
# 克隆项目
git clone https://github.com/your-org/slitherlink-game.git

# 安装依赖
npm install

# 配置环境变量
cp .env.example .env.local

# 启动开发服务器
npm run dev
```

## 项目结构
```
src/
├── components/          # React组件
├── pages/              # Next.js页面
├── lib/                # 工具库
├── store/              # 状态管理
└── styles/             # 样式文件
```

## API文档
详见 [API文档](./docs/api.md)

## 贡献指南
详见 [贡献指南](./CONTRIBUTING.md)

## 许可证
MIT License
```

### 8.3 API文档规范

#### 8.3.1 API端点文档
**规则**：包含完整的请求和响应示例

```markdown
✅ 正确示例：
## 用户认证

### POST /api/auth/login

用户登录接口

**请求参数**

| 参数 | 类型 | 必需 | 描述 |
|------|------|------|------|
| email | string | 是 | 用户邮箱 |
| password | string | 是 | 用户密码 |
| rememberMe | boolean | 否 | 是否记住登录状态 |

**请求示例**
```json
{
  "email": "user@example.com",
  "password": "securepassword",
  "rememberMe": true
}
```

**响应示例**
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "user_123",
      "email": "user@example.com",
      "username": "player1",
      "displayName": "Player One"
    },
    "tokens": {
      "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
      "refreshToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
    }
  },
  "meta": {
    "timestamp": "2024-01-15T10:30:00Z"
  }
}
```

**错误响应**
```json
{
  "success": false,
  "error": {
    "code": "INVALID_CREDENTIALS",
    "message": "邮箱或密码错误"
  }
}
```

**状态码**
- 200: 登录成功
- 400: 请求参数错误
- 401: 认证失败
- 429: 请求过于频繁
```

## 9. 总结

### 9.1 命名规范核心原则

1. **一致性第一**：相同类型的实体使用相同的命名模式
2. **清晰表达**：名称应该清楚表达其用途和含义
3. **上下文相关**：在不同的上下文中选择合适的命名约定
4. **避免缩写**：除非是广泛认知的缩写
5. **英文优先**：所有代码相关命名使用英文

### 9.2 不同层次的命名约定

| 层次 | 约定 | 示例 |
|------|------|------|
| 文件/目录 | kebab-case | `game-engine/`, `UserProfile.tsx` |
| 类/接口 | PascalCase | `AuthService`, `GameSession` |
| 函数/变量 | camelCase | `calculateScore`, `currentUser` |
| 常量 | UPPER_SNAKE_CASE | `MAX_SCORE`, `API_ENDPOINTS` |
| 数据库 | snake_case | `game_sessions`, `user_id` |
| 环境变量 | UPPER_SNAKE_CASE | `DATABASE_URL`, `JWT_SECRET` |

### 9.3 实施建议

#### 9.3.1 团队规范执行
1. **代码审查检查点**：在PR审查时严格检查命名规范
2. **自动化工具**：使用ESLint、Prettier等工具强制执行规范
3. **文档更新**：命名规范变更时及时更新文档
4. **培训和讨论**：定期团队讨论，统一理解和执行

#### 9.3.2 工具配置建议

**ESLint配置示例**：
```json
{
  "rules": {
    "camelcase": ["error", { "properties": "never" }],
    "@typescript-eslint/naming-convention": [
      "error",
      {
        "selector": "interface",
        "format": ["PascalCase"]
      },
      {
        "selector": "typeAlias",
        "format": ["PascalCase"]
      },
      {
        "selector": "enum",
        "format": ["PascalCase"]
      },
      {
        "selector": "enumMember",
        "format": ["UPPER_CASE"]
      }
    ]
  }
}
```

**Git hooks配置**：
```bash
# pre-commit hook检查命名规范
#!/bin/bash
# 检查分支命名
branch=$(git rev-parse --abbrev-ref HEAD)
valid_pattern="^(feature|hotfix|release|experiment)\/[a-z0-9-]+$"

if [[ ! $branch =~ $valid_pattern ]]; then
  echo "Branch name '$branch' does not follow naming convention"
  echo "Use: feature/description, hotfix/description, etc."
  exit 1
fi

# 检查提交信息格式
commit_regex="^(feat|fix|docs|style|refactor|perf|test|build|ci|chore)(\(.+\))?: .{1,50}"
commit_message=$(cat "$1")

if [[ ! $commit_message =~ $commit_regex ]]; then
  echo "Commit message does not follow conventional commits format"
  exit 1
fi
```

### 9.4 命名规范检查清单

#### 9.4.1 代码审查检查点
- [ ] 文件名符合对应的命名约定
- [ ] 类、接口、函数名称清晰表达用途
- [ ] 变量名避免使用缩写和模糊词汇
- [ ] 常量使用正确的大小写格式
- [ ] 数据库字段名符合snake_case约定
- [ ] API端点遵循RESTful命名规范
- [ ] 环境变量使用描述性名称
- [ ] Git分支和提交信息格式正确

#### 9.4.2 新项目启动检查点
- [ ] 建立项目特定的命名约定文档
- [ ] 配置代码格式化和检查工具
- [ ] 设置Git hooks进行自动检查
- [ ] 团队成员培训和规范确认
- [ ] 示例代码和模板准备

### 9.5 常见问题和解决方案

#### 9.5.1 跨语言命名冲突
**问题**：数据库使用snake_case，前端使用camelCase
**解决方案**：
```typescript
// 在API层进行命名转换
interface DatabaseUser {
  user_id: string
  created_at: string
  display_name: string
}

interface ApiUser {
  userId: string
  createdAt: string
  displayName: string
}

// 转换函数
function transformUserFromDb(dbUser: DatabaseUser): ApiUser {
  return {
    userId: dbUser.user_id,
    createdAt: dbUser.created_at,
    displayName: dbUser.display_name
  }
}
```

#### 9.5.2 历史代码命名不一致
**问题**：现有代码库中存在不同的命名风格
**解决方案**：
1. **渐进式重构**：新代码严格遵循规范，旧代码逐步重构
2. **创建别名**：为旧的命名创建新的别名，逐步迁移
3. **自动化重构工具**：使用IDE的重构功能批量修改

#### 9.5.3 第三方库命名冲突
**问题**：第三方库的命名风格与项目规范不一致
**解决方案**：
```typescript
// 创建包装层统一命名风格
import { someLibraryFunction as libFunction } from 'third-party-lib'

export const calculateUserScore = (data: UserData) => {
  return libFunction(data) // 内部使用第三方库
}
```

### 9.6 规范更新和维护

#### 9.6.1 规范版本管理
- **版本号**：使用语义化版本号管理命名规范文档
- **变更日志**：记录每次规范变更的原因和影响
- **向后兼容**：新规范应该尽量向后兼容
- **迁移指南**：提供旧规范到新规范的迁移指南

#### 9.6.2 团队反馈机制
- **定期回顾**：每季度回顾命名规范的执行效果
- **问题收集**：建立渠道收集团队在执行中遇到的问题
- **规范优化**：根据实际使用情况优化和调整规范
- **最佳实践分享**：分享团队内的命名最佳实践

---

## 附录

### A. 快速参考表

| 上下文 | 格式 | 示例 |
|--------|------|------|
| React组件文件 | PascalCase.tsx | `GameBoard.tsx` |
| 普通文件 | camelCase.ts | `gameHelper.ts` |
| 目录 | kebab-case | `user-profile/` |
| React组件 | PascalCase | `GameBoard` |
| 函数/变量 | camelCase | `calculateScore` |
| 常量 | UPPER_SNAKE_CASE | `MAX_SCORE` |
| 接口 | PascalCase | `UserData` |
| 类型 | PascalCase | `GameStatus` |
| 枚举 | PascalCase | `GameDifficulty` |
| 枚举值 | UPPER_SNAKE_CASE | `VERY_HARD` |
| 数据库表 | snake_case | `game_sessions` |
| 数据库字段 | snake_case | `user_id` |
| API路径 | kebab-case | `/api/game-sessions` |
| 环境变量 | UPPER_SNAKE_CASE | `DATABASE_URL` |
| Git分支 | type/kebab-case | `feature/user-auth` |
| CSS类 | kebab-case | `game-board` |

### B. 禁用词汇列表

**完全禁止**：
- `data`, `info`, `item`, `thing`, `object`
- `temp`, `tmp`, `test` (除测试文件外)
- `a`, `b`, `c`, `x`, `y`, `z` (单字母变量)
- `foo`, `bar`, `baz` (示例代码用词)

**谨慎使用**：
- `id` (可用，但要明确表示什么的ID)
- `url`, `api` (广泛认知的缩写，可以使用)
- `config`, `utils` (可用，但要在合适的上下文)

### C. 工具推荐

**代码格式化**：
- Prettier: 自动代码格式化
- ESLint: 代码质量和风格检查
- TypeScript: 类型安全和接口规范

**Git工具**：
- Husky: Git hooks管理
- Commitizen: 标准化提交信息
- Conventional Changelog: 自动生成变更日志

**文档工具**：
- JSDoc: 代码注释生成文档
- TypeDoc: TypeScript文档生成
- OpenAPI: API文档规范

这份命名规范文档为数回在线游戏平台项目提供了全面的命名指导，确保代码库的一致性和可维护性。团队成员应该严格遵循这些规范，并在代码审查过程中相互监督执行。