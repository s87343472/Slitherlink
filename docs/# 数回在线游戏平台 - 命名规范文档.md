# æ•°å›åœ¨çº¿æ¸¸æˆå¹³å° - å‘½åè§„èŒƒæ–‡æ¡£

## 1. å‘½åè§„èŒƒæ€»åˆ™

### 1.1 åŸºæœ¬åŸåˆ™

1. **æ¸…æ™°æ˜ç¡®**ï¼šåç§°åº”è¯¥æ¸…æ¥šè¡¨è¾¾å…¶ç”¨é€”å’Œå«ä¹‰
2. **ä¸€è‡´æ€§**ï¼šç›¸åŒç±»å‹çš„å®ä½“ä½¿ç”¨ç›¸åŒçš„å‘½åæ¨¡å¼
3. **ç®€æ´æ€§**ï¼šåœ¨ä¿è¯æ¸…æ™°çš„å‰æä¸‹å°½é‡ç®€æ´
4. **è‹±æ–‡ä¼˜å…ˆ**ï¼šæ‰€æœ‰ä»£ç ç›¸å…³å‘½åä½¿ç”¨è‹±æ–‡ï¼Œé¿å…æ‹¼éŸ³æˆ–ä¸­æ–‡
5. **é¿å…ç¼©å†™**ï¼šé™¤éæ˜¯å¹¿æ³›è®¤çŸ¥çš„ç¼©å†™ï¼ˆå¦‚idã€urlã€apiç­‰ï¼‰
6. **ç¦ç”¨ä¿ç•™å­—**ï¼šé¿å…ä½¿ç”¨å„è¯­è¨€çš„ä¿ç•™å…³é”®å­—

### 1.2 é€šç”¨ç¦ç”¨è¯æ±‡

**ç¦æ­¢ä½¿ç”¨çš„å‘½å**ï¼š
- `data`, `info`, `item`, `thing`, `object` ç­‰è¿‡äºæ³›åŒ–çš„è¯æ±‡
- `temp`, `tmp`, `test` ç­‰ä¸´æ—¶æ€§è¯æ±‡
- `a`, `b`, `c`, `x`, `y`, `z` ç­‰æ— æ„ä¹‰çš„å•å­—æ¯
- `foo`, `bar`, `baz` ç­‰ç¤ºä¾‹æ€§è¯æ±‡

### 1.3 å‘½åé•¿åº¦å»ºè®®

| ç±»å‹ | æœ€å°é•¿åº¦ | æœ€å¤§é•¿åº¦ | å»ºè®®é•¿åº¦ |
|------|----------|----------|----------|
| å˜é‡å | 3ä¸ªå­—ç¬¦ | 30ä¸ªå­—ç¬¦ | 8-15ä¸ªå­—ç¬¦ |
| å‡½æ•°å | 4ä¸ªå­—ç¬¦ | 40ä¸ªå­—ç¬¦ | 10-20ä¸ªå­—ç¬¦ |
| ç±»å | 4ä¸ªå­—ç¬¦ | 30ä¸ªå­—ç¬¦ | 8-20ä¸ªå­—ç¬¦ |
| æ–‡ä»¶å | 3ä¸ªå­—ç¬¦ | 50ä¸ªå­—ç¬¦ | 10-25ä¸ªå­—ç¬¦ |

## 2. å‰ç«¯å‘½åè§„èŒƒ

### 2.1 æ–‡ä»¶å’Œç›®å½•å‘½å

#### 2.1.1 ç›®å½•å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `kebab-case` (çŸ­æ¨ªçº¿åˆ†éš”)

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
components/
â”œâ”€â”€ game-engine/
â”œâ”€â”€ ui-components/
â”œâ”€â”€ user-profile/
â””â”€â”€ leaderboard-display/

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
components/
â”œâ”€â”€ GameEngine/           # ä¸ä½¿ç”¨PascalCase
â”œâ”€â”€ ui_components/        # ä¸ä½¿ç”¨snake_case
â”œâ”€â”€ userProfile/          # ä¸ä½¿ç”¨camelCase
â””â”€â”€ LeaderBoardDisplay/   # ä¸ä½¿ç”¨æ··åˆå‘½å
```

#### 2.1.2 Reactç»„ä»¶æ–‡ä»¶å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `PascalCase` + `.tsx` æ‰©å±•å

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
GameBoard.tsx
LeaderboardList.tsx
UserProfileCard.tsx
TrophyDisplay.tsx
PuzzleCanvas.tsx

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
gameBoard.tsx          # ä¸ä½¿ç”¨camelCase
leaderboard-list.tsx   # ä¸ä½¿ç”¨kebab-case
user_profile_card.tsx  # ä¸ä½¿ç”¨snake_case
```

#### 2.1.3 å…¶ä»–æ–‡ä»¶å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase` æˆ– `kebab-case`

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
utils/
â”œâ”€â”€ gameHelper.ts         # å·¥å…·å‡½æ•°
â”œâ”€â”€ apiClient.ts          # APIå®¢æˆ·ç«¯
â”œâ”€â”€ dateFormatter.ts      # æ ¼å¼åŒ–å·¥å…·
â””â”€â”€ validation-rules.ts   # éªŒè¯è§„åˆ™

hooks/
â”œâ”€â”€ useGameState.ts       # è‡ªå®šä¹‰Hook
â”œâ”€â”€ useUserAuth.ts        # è®¤è¯Hook
â””â”€â”€ useLeaderboard.ts     # æ’è¡Œæ¦œHook

types/
â”œâ”€â”€ gameTypes.ts          # æ¸¸æˆç±»å‹å®šä¹‰
â”œâ”€â”€ userTypes.ts          # ç”¨æˆ·ç±»å‹å®šä¹‰
â””â”€â”€ apiTypes.ts           # APIç±»å‹å®šä¹‰
```

### 2.2 Reactç»„ä»¶å‘½å

#### 2.2.1 ç»„ä»¶åç§°
**è§„åˆ™**ï¼šä½¿ç”¨ `PascalCase`ï¼Œåç§°åº”è¯¥æè¿°ç»„ä»¶çš„ç”¨é€”

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ¸¸æˆç›¸å…³ç»„ä»¶
export const GameBoard: React.FC = () => { }
export const PuzzleGrid: React.FC = () => { }
export const ScoreDisplay: React.FC = () => { }
export const GameTimer: React.FC = () => { }

// UIç»„ä»¶
export const Button: React.FC = () => { }
export const Modal: React.FC = () => { }
export const LoadingSpinner: React.FC = () => { }
export const ErrorBoundary: React.FC = () => { }

// é¡µé¢ç»„ä»¶
export const GamePage: React.FC = () => { }
export const LeaderboardPage: React.FC = () => { }
export const ProfilePage: React.FC = () => { }

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
export const gameBoard = () => { }        # ä¸ä½¿ç”¨camelCase
export const Game_Board = () => { }       # ä¸ä½¿ç”¨snake_case
export const game_board = () => { }       # ä¸ä½¿ç”¨snake_case
export const GAMEBOARD = () => { }        # ä¸ä½¿ç”¨UPPER_CASE
```

#### 2.2.2 Propsæ¥å£å‘½å
**è§„åˆ™**ï¼šç»„ä»¶å + `Props` åç¼€

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
interface GameBoardProps {
  puzzleData: PuzzleData
  onLineDrawn: (lineId: string) => void
  isCompleted: boolean
}

interface ButtonProps {
  variant: 'primary' | 'secondary'
  size: 'small' | 'medium' | 'large'
  onClick: () => void
  disabled?: boolean
}

interface ModalProps {
  isOpen: boolean
  onClose: () => void
  title: string
  children: React.ReactNode
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
interface GameBoardProperties { }    # ä¸ä½¿ç”¨å®Œæ•´å•è¯
interface GameBoardInterface { }     # ä¸ä½¿ç”¨Interfaceåç¼€
interface IGameBoard { }             # ä¸ä½¿ç”¨Iå‰ç¼€
interface GameBoard_Props { }        # ä¸ä½¿ç”¨snake_case
```

### 2.3 å˜é‡å’Œå‡½æ•°å‘½å

#### 2.3.1 å˜é‡å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase`ï¼Œå¸ƒå°”å€¼ä»¥ `is/has/can/should` å¼€å¤´

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ™®é€šå˜é‡
const currentScore = 1500
const playerName = 'Alice'
const puzzleData = puzzle.getData()
const gameStartTime = Date.now()

// å¸ƒå°”å€¼å˜é‡
const isGameCompleted = false
const hasLeaderboardAccess = true
const canSubmitScore = user.isPaid
const shouldShowAds = !user.hasAdFreeAccess

// æ•°ç»„å˜é‡
const playerScores = [1500, 1200, 980]
const trophyList = user.getTrophies()
const errorMessages = validation.getErrors()

// å¯¹è±¡å˜é‡
const gameConfig = {
  difficulty: 'hard',
  gridSize: 10
}
const userPreferences = {
  theme: 'dark',
  soundEnabled: true
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
const current_score = 1500        # ä¸ä½¿ç”¨snake_case
const CurrentScore = 1500         # ä¸ä½¿ç”¨PascalCase
const CURRENT_SCORE = 1500        # ä¸ä½¿ç”¨UPPER_CASE
const completed = false           # å¸ƒå°”å€¼åº”è¯¥ä»¥is/haså¼€å¤´
const access = true               # è¯­ä¹‰ä¸æ˜ç¡®
```

#### 2.3.2 å‡½æ•°å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase`ï¼ŒåŠ¨è¯å¼€å¤´ï¼Œè¡¨è¾¾æ˜ç¡®çš„è¡Œä¸º

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// äº‹ä»¶å¤„ç†å‡½æ•°
const handleLineClick = (lineId: string) => { }
const handleGameComplete = () => { }
const handleUserLogin = (credentials: LoginData) => { }
const handleScoreSubmit = () => { }

// è·å–æ•°æ®å‡½æ•°
const fetchUserProfile = async () => { }
const getCurrentPuzzle = () => { }
const calculateScore = (timeElapsed: number, errors: number) => { }
const validatePuzzleSolution = (solution: Solution) => { }

// çŠ¶æ€æ›´æ–°å‡½æ•°
const updateGameState = (newState: GameState) => { }
const setCurrentUser = (user: User) => { }
const toggleGamePause = () => { }
const resetGameProgress = () => { }

// å·¥å…·å‡½æ•°
const formatTime = (seconds: number) => { }
const generatePuzzleId = () => { }
const encryptPassword = (password: string) => { }
const parseGameData = (rawData: string) => { }

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
const lineClick = () => { }           # ç¼ºå°‘åŠ¨è¯
const handleClick = () => { }         # è¿‡äºæ³›åŒ–
const handle_line_click = () => { }   # ä¸ä½¿ç”¨snake_case
const HandleLineClick = () => { }     # ä¸ä½¿ç”¨PascalCase
const getUser = () => { }             # åº”è¯¥æ›´å…·ä½“ï¼šfetchUser/getCurrentUser
```

### 2.4 Hookå‘½åè§„èŒƒ

#### 2.4.1 è‡ªå®šä¹‰Hookå‘½å
**è§„åˆ™**ï¼šä»¥ `use` å¼€å¤´ + `camelCase`

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ¸¸æˆç›¸å…³Hook
const useGameState = () => { }
const usePuzzleData = () => { }
const useGameTimer = () => { }
const useScoreCalculation = () => { }

// ç”¨æˆ·ç›¸å…³Hook
const useUserAuth = () => { }
const useUserProfile = () => { }
const useUserPermissions = () => { }

// APIç›¸å…³Hook
const useApiCall = () => { }
const useLeaderboardData = () => { }
const useTrophyList = () => { }

// UIç›¸å…³Hook
const useModal = () => { }
const useLocalStorage = () => { }
const useResponsiveLayout = () => { }

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
const gameState = () => { }           # ç¼ºå°‘useå‰ç¼€
const useGame = () => { }             # è¿‡äºæ³›åŒ–
const use_game_state = () => { }      # ä¸ä½¿ç”¨snake_case
const UseGameState = () => { }        # ä¸ä½¿ç”¨PascalCase
```

### 2.5 çŠ¶æ€ç®¡ç†å‘½å

#### 2.5.1 Zustand Storeå‘½å
**è§„åˆ™**ï¼šåŠŸèƒ½æè¿° + `Store` åç¼€

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// Storeå®šä¹‰
export const useGameStore = create<GameStore>(() => ({ }))
export const useUserStore = create<UserStore>(() => ({ }))
export const useUIStore = create<UIStore>(() => ({ }))
export const useLeaderboardStore = create<LeaderboardStore>(() => ({ }))

// Storeæ¥å£
interface GameStore {
  // çŠ¶æ€å±æ€§
  currentPuzzle: PuzzleData | null
  gameStatus: GameStatus
  score: number
  
  // åŠ¨ä½œæ–¹æ³•
  loadPuzzle: (puzzleId: string) => void
  updateScore: (score: number) => void
  completeGame: () => void
  resetGame: () => void
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
export const gameStore = create(() => ({ }))      # ä¸ä½¿ç”¨useå‰ç¼€
export const useGame = create(() => ({ }))        # è¿‡äºç®€æ´
export const useGameData = create(() => ({ }))    # è¯­ä¹‰ä¸æ˜ç¡®
```

### 2.6 CSSç±»åå‘½å

#### 2.6.1 Tailwind CSSç±»åç»„ç»‡
**è§„åˆ™**ï¼šæŒ‰åŠŸèƒ½åˆ†ç»„ï¼Œä½¿ç”¨ä¸€è‡´çš„é¡ºåº

```tsx
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
<div className="
  // å¸ƒå±€ç›¸å…³
  relative flex items-center justify-center
  // å°ºå¯¸ç›¸å…³
  w-full h-screen max-w-4xl
  // é—´è·ç›¸å…³
  p-4 m-2
  // é¢œè‰²å’Œæ ·å¼
  bg-white border border-gray-200 rounded-lg shadow-md
  // å“åº”å¼
  md:p-6 lg:max-w-6xl
  // çŠ¶æ€
  hover:shadow-lg focus:outline-none
">

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
<div className="bg-white relative w-full hover:shadow-lg p-4 flex border items-center">
// ç±»åé¡ºåºæ··ä¹±ï¼Œéš¾ä»¥é˜…è¯»
```

#### 2.6.2 è‡ªå®šä¹‰CSSç±»å
**è§„åˆ™**ï¼šä½¿ç”¨ `kebab-case`ï¼Œé‡‡ç”¨BEMå‘½åæ³•

```css
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
/* ç»„ä»¶å— */
.game-board { }
.leaderboard-list { }
.user-profile { }

/* å…ƒç´  */
.game-board__grid { }
.game-board__cell { }
.game-board__line { }

/* ä¿®é¥°ç¬¦ */
.game-board--completed { }
.game-board__cell--highlighted { }
.game-board__line--correct { }
.game-board__line--incorrect { }

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
.gameBoard { }              # ä¸ä½¿ç”¨camelCase
.game_board { }             # ä¸ä½¿ç”¨snake_case
.GameBoard { }              # ä¸ä½¿ç”¨PascalCase
.game-board-grid { }        # åº”è¯¥ä½¿ç”¨BEMçš„__è¿æ¥ç¬¦
```

## 3. åç«¯å‘½åè§„èŒƒ

### 3.1 æ–‡ä»¶å’Œç›®å½•å‘½å

#### 3.1.1 ç›®å½•ç»“æ„å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase` æˆ– `kebab-case`

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
src/
â”œâ”€â”€ routes/              # APIè·¯ç”±
â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ types/               # TypeScriptç±»å‹
â””â”€â”€ tests/               # æµ‹è¯•æ–‡ä»¶

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
src/
â”œâ”€â”€ Routes/              # ä¸ä½¿ç”¨PascalCase
â”œâ”€â”€ business_logic/      # ä¸ä½¿ç”¨snake_case
â”œâ”€â”€ data_models/         # ä¸ä½¿ç”¨snake_case
â””â”€â”€ Middleware/          # ä¸ä½¿ç”¨PascalCase
```

#### 3.1.2 æ–‡ä»¶å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase` + åŠŸèƒ½åç¼€

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
routes/
â”œâ”€â”€ authRoutes.ts        # è®¤è¯è·¯ç”±
â”œâ”€â”€ gameRoutes.ts        # æ¸¸æˆè·¯ç”±
â”œâ”€â”€ userRoutes.ts        # ç”¨æˆ·è·¯ç”±
â””â”€â”€ leaderboardRoutes.ts # æ’è¡Œæ¦œè·¯ç”±

services/
â”œâ”€â”€ AuthService.ts       # è®¤è¯æœåŠ¡
â”œâ”€â”€ GameService.ts       # æ¸¸æˆæœåŠ¡
â”œâ”€â”€ PaymentService.ts    # æ”¯ä»˜æœåŠ¡
â””â”€â”€ EmailService.ts      # é‚®ä»¶æœåŠ¡

models/
â”œâ”€â”€ User.ts              # ç”¨æˆ·æ¨¡å‹
â”œâ”€â”€ Puzzle.ts            # é¢˜ç›®æ¨¡å‹
â”œâ”€â”€ GameSession.ts       # æ¸¸æˆä¼šè¯æ¨¡å‹
â””â”€â”€ Trophy.ts            # å¥–æ¯æ¨¡å‹

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
routes/
â”œâ”€â”€ auth.ts              # åº”è¯¥åŒ…å«Routesåç¼€
â”œâ”€â”€ game_routes.ts       # ä¸ä½¿ç”¨snake_case
â””â”€â”€ user-routes.ts       # ä¸ä½¿ç”¨kebab-case

services/
â”œâ”€â”€ authService.ts       # Serviceåº”è¯¥å¤§å†™
â”œâ”€â”€ Auth_Service.ts      # ä¸ä½¿ç”¨snake_case
â””â”€â”€ auth-service.ts      # ä¸ä½¿ç”¨kebab-case
```

### 3.2 ç±»å’Œæ¥å£å‘½å

#### 3.2.1 ç±»å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `PascalCase`ï¼Œåè¯æ€§è´¨

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æœåŠ¡ç±»
export class AuthService {
  async login(credentials: LoginCredentials): Promise<AuthResult> { }
  async register(userData: RegisterData): Promise<User> { }
  async validateToken(token: string): Promise<boolean> { }
}

export class GameService {
  async createGameSession(userId: string, puzzleId: string): Promise<GameSession> { }
  async updateScore(sessionId: string, score: number): Promise<void> { }
  async completeGame(sessionId: string): Promise<CompletionResult> { }
}

// æ•°æ®æ¨¡å‹ç±»
export class User {
  constructor(
    public id: string,
    public email: string,
    public username: string,
    public createdAt: Date
  ) { }
  
  hasPermission(permission: string): boolean { }
  updateProfile(data: ProfileUpdateData): void { }
}

export class Puzzle {
  constructor(
    public id: string,
    public date: string,
    public difficulty: Difficulty,
    public gridSize: number,
    public puzzleData: PuzzleData
  ) { }
  
  validateSolution(solution: Solution): boolean { }
  calculateScore(timeElapsed: number, errors: number): number { }
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
export class authService { }      # ä¸ä½¿ç”¨camelCase
export class auth_service { }     # ä¸ä½¿ç”¨snake_case
export class AUTH_SERVICE { }     # ä¸ä½¿ç”¨UPPER_CASE
export class gameManager { }      # åº”è¯¥ä½¿ç”¨PascalCase
```

#### 3.2.2 æ¥å£å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `PascalCase`ï¼Œä¸ä½¿ç”¨ `I` å‰ç¼€

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ•°æ®ä¼ è¾“å¯¹è±¡
interface LoginCredentials {
  email: string
  password: string
}

interface RegisterData {
  email: string
  username: string
  password: string
  displayName?: string
}

interface GameSession {
  id: string
  userId: string
  puzzleId: string
  startedAt: Date
  completedAt?: Date
  score: number
  errors: number
}

// APIå“åº”æ¥å£
interface ApiResponse<T> {
  success: boolean
  data?: T
  error?: ApiError
  meta?: ResponseMeta
}

interface LeaderboardEntry {
  rank: number
  userId: string
  username: string
  score: number
  completionTime: number
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
interface IUser { }              # ä¸ä½¿ç”¨Iå‰ç¼€
interface userInterface { }      # ä¸ä½¿ç”¨camelCase
interface User_Interface { }     # ä¸ä½¿ç”¨snake_case
interface LOGIN_CREDENTIALS { }  # ä¸ä½¿ç”¨UPPER_CASE
```

### 3.3 å‡½æ•°å’Œæ–¹æ³•å‘½å

#### 3.3.1 Serviceæ–¹æ³•å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase`ï¼ŒåŠ¨è¯å¼€å¤´

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
export class UserService {
  // CRUDæ“ä½œ
  async createUser(userData: CreateUserData): Promise<User> { }
  async getUserById(id: string): Promise<User | null> { }
  async updateUser(id: string, updates: UserUpdates): Promise<User> { }
  async deleteUser(id: string): Promise<void> { }
  
  // ä¸šåŠ¡æ“ä½œ
  async authenticateUser(credentials: LoginCredentials): Promise<AuthResult> { }
  async validateUserEmail(email: string): Promise<boolean> { }
  async resetUserPassword(email: string): Promise<void> { }
  async upgradeUserAccount(userId: string, productType: string): Promise<void> { }
  
  // æŸ¥è¯¢æ“ä½œ
  async findUserByEmail(email: string): Promise<User | null> { }
  async getUserPermissions(userId: string): Promise<UserPermissions> { }
  async getUserGameHistory(userId: string): Promise<GameSession[]> { }
  async getUserTrophies(userId: string): Promise<Trophy[]> { }
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
async user(id: string) { }           # ç¼ºå°‘åŠ¨è¯
async getUser() { }                  # å‚æ•°è¯­ä¹‰ä¸æ˜ç¡®
async get_user_by_id() { }           # ä¸ä½¿ç”¨snake_case
async GetUser() { }                  # ä¸ä½¿ç”¨PascalCase
async userById() { }                 # ç¼ºå°‘åŠ¨è¯
```

#### 3.3.2 å·¥å…·å‡½æ•°å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase`ï¼Œæè¿°å…·ä½“åŠŸèƒ½

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ•°æ®éªŒè¯
export const validateEmail = (email: string): boolean => { }
export const validatePassword = (password: string): ValidationResult => { }
export const validatePuzzleSolution = (solution: Solution): boolean => { }

// æ•°æ®è½¬æ¢
export const formatGameScore = (score: number): string => { }
export const parseGameData = (rawData: string): GameData => { }
export const convertTimeToSeconds = (timeString: string): number => { }
export const transformUserData = (dbUser: DbUser): User => { }

// ç”Ÿæˆå™¨å‡½æ•°
export const generateUserId = (): string => { }
export const generateSecureToken = (length: number): string => { }
export const createGameSession = (userId: string, puzzleId: string): GameSession => { }

// è®¡ç®—å‡½æ•°
export const calculateGameScore = (timeElapsed: number, errors: number): number => { }
export const determineGameDifficulty = (gridSize: number): Difficulty => { }
export const computeLeaderboardRank = (score: number, scores: number[]): number => { }

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
export const email = () => { }           # ç¼ºå°‘åŠ¨è¯
export const checkEmail = () => { }      # åº”è¯¥æ›´å…·ä½“ï¼švalidateEmail
export const validate_email = () => { }  # ä¸ä½¿ç”¨snake_case
export const ValidateEmail = () => { }   # ä¸ä½¿ç”¨PascalCase
```

### 3.4 æ•°æ®åº“ç›¸å…³å‘½å

#### 3.4.1 æ•°æ®åº“è¡¨å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `snake_case`ï¼Œå¤æ•°å½¢å¼

```sql
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
-- ç”¨æˆ·ç›¸å…³è¡¨
users                    -- ç”¨æˆ·ä¸»è¡¨
user_permissions         -- ç”¨æˆ·æƒé™è¡¨
user_sessions            -- ç”¨æˆ·ä¼šè¯è¡¨

-- æ¸¸æˆç›¸å…³è¡¨
puzzles                  -- é¢˜ç›®è¡¨
game_sessions            -- æ¸¸æˆä¼šè¯è¡¨
leaderboards            -- æ’è¡Œæ¦œè¡¨
trophies                -- å¥–æ¯è¡¨

-- æ”¯ä»˜ç›¸å…³è¡¨
purchases               -- è´­ä¹°è®°å½•è¡¨
payment_intents         -- æ”¯ä»˜æ„å›¾è¡¨
subscription_plans      -- è®¢é˜…è®¡åˆ’è¡¨

-- ç³»ç»Ÿç›¸å…³è¡¨
audit_logs             -- å®¡è®¡æ—¥å¿—è¡¨
system_configs         -- ç³»ç»Ÿé…ç½®è¡¨
email_templates        -- é‚®ä»¶æ¨¡æ¿è¡¨

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
User                   # ä¸ä½¿ç”¨å•æ•°
userPermissions        # ä¸ä½¿ç”¨camelCase  
user-permissions       # ä¸ä½¿ç”¨kebab-case
UserPermissions        # ä¸ä½¿ç”¨PascalCase
```

#### 3.4.2 å­—æ®µå‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `snake_case`ï¼Œæè¿°æ€§åç§°

```sql
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
-- usersè¡¨
id                     -- ä¸»é”®ï¼Œæ€»æ˜¯ä½¿ç”¨id
email                  -- é‚®ç®±åœ°å€
username               -- ç”¨æˆ·å
password_hash          -- å¯†ç å“ˆå¸Œ
display_name           -- æ˜¾ç¤ºåç§°
created_at             -- åˆ›å»ºæ—¶é—´
updated_at             -- æ›´æ–°æ—¶é—´
last_login_at          -- æœ€åç™»å½•æ—¶é—´
is_active              -- æ˜¯å¦æ¿€æ´»
email_verified_at      -- é‚®ç®±éªŒè¯æ—¶é—´

-- game_sessionsè¡¨
id                     -- ä¸»é”®
user_id                -- å¤–é”®ï¼ŒæŒ‡å‘users.id
puzzle_id              -- å¤–é”®ï¼ŒæŒ‡å‘puzzles.id
started_at             -- å¼€å§‹æ—¶é—´
completed_at           -- å®Œæˆæ—¶é—´
duration_seconds       -- æ¸¸æˆæ—¶é•¿ï¼ˆç§’ï¼‰
score                  -- å¾—åˆ†
errors_count           -- é”™è¯¯æ¬¡æ•°
is_completed           -- æ˜¯å¦å®Œæˆ
is_correct             -- ç­”æ¡ˆæ˜¯å¦æ­£ç¡®

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
userId                 # ä¸ä½¿ç”¨camelCase
user-id               # ä¸ä½¿ç”¨kebab-case
UserId                # ä¸ä½¿ç”¨PascalCase
user_ID               # ä¸ä½¿ç”¨æ··åˆå¤§å°å†™
uid                   # é¿å…è¿‡åº¦ç¼©å†™
creation_date         # åº”è¯¥ä½¿ç”¨created_at
modification_time     # åº”è¯¥ä½¿ç”¨updated_at
```

#### 3.4.3 ç´¢å¼•å‘½å
**è§„åˆ™**ï¼š`idx_` + è¡¨å + å­—æ®µå

```sql
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
-- å•å­—æ®µç´¢å¼•
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_game_sessions_user_id ON game_sessions(user_id);
CREATE INDEX idx_puzzles_date ON puzzles(date);

-- å¤åˆç´¢å¼•
CREATE INDEX idx_game_sessions_user_date ON game_sessions(user_id, started_at);
CREATE INDEX idx_leaderboards_type_period ON leaderboards(type, period_start);
CREATE INDEX idx_trophies_user_awarded ON trophies(user_id, awarded_at);

-- å”¯ä¸€ç´¢å¼•
CREATE UNIQUE INDEX idx_users_email_unique ON users(email);
CREATE UNIQUE INDEX idx_puzzles_date_unique ON puzzles(date);

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
CREATE INDEX email_index ON users(email);        # ä¸æ ‡å‡†çš„å‘½å
CREATE INDEX users_email ON users(email);        # ç¼ºå°‘idxå‰ç¼€
CREATE INDEX idx_email ON users(email);          # ç¼ºå°‘è¡¨å
```

### 3.5 APIæ¥å£å‘½å

#### 3.5.1 è·¯ç”±è·¯å¾„å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `kebab-case`ï¼ŒRESTfulé£æ ¼

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// è®¤è¯ç›¸å…³
POST   /api/auth/register           # ç”¨æˆ·æ³¨å†Œ
POST   /api/auth/login              # ç”¨æˆ·ç™»å½•
POST   /api/auth/logout             # ç”¨æˆ·ç™»å‡º
POST   /api/auth/refresh-token      # åˆ·æ–°ä»¤ç‰Œ
POST   /api/auth/forgot-password    # å¿˜è®°å¯†ç 
POST   /api/auth/reset-password     # é‡ç½®å¯†ç 

// ç”¨æˆ·ç›¸å…³
GET    /api/users/profile           # è·å–ä¸ªäººèµ„æ–™
PUT    /api/users/profile           # æ›´æ–°ä¸ªäººèµ„æ–™
GET    /api/users/permissions       # è·å–ç”¨æˆ·æƒé™
GET    /api/users/game-history      # è·å–æ¸¸æˆå†å²
GET    /api/users/trophies          # è·å–ç”¨æˆ·å¥–æ¯

// æ¸¸æˆç›¸å…³
GET    /api/puzzles/daily           # è·å–æ¯æ—¥é¢˜ç›®
GET    /api/puzzles/daily/:date     # è·å–æŒ‡å®šæ—¥æœŸé¢˜ç›®
POST   /api/game-sessions           # åˆ›å»ºæ¸¸æˆä¼šè¯
PUT    /api/game-sessions/:id       # æ›´æ–°æ¸¸æˆä¼šè¯
POST   /api/game-sessions/:id/submit # æäº¤æ¸¸æˆç»“æœ

// æ’è¡Œæ¦œç›¸å…³
GET    /api/leaderboard/daily       # æ¯æ—¥æ’è¡Œæ¦œ
GET    /api/leaderboard/weekly      # æ¯å‘¨æ’è¡Œæ¦œ
GET    /api/leaderboard/monthly     # æ¯æœˆæ’è¡Œæ¦œ
GET    /api/leaderboard/all-time    # æ€»æ’è¡Œæ¦œ

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
POST   /api/auth/registerUser       # ä¸ä½¿ç”¨camelCase
GET    /api/users/getUserProfile    # åŠ¨è¯åº”è¯¥ç”¨HTTPæ–¹æ³•è¡¨ç¤º
GET    /api/user_profile            # ä¸ä½¿ç”¨snake_case
POST   /api/gameSession/create      # ä¸ä½¿ç”¨camelCase+åŠ¨è¯
GET    /api/leaderboard_daily       # ä¸ä½¿ç”¨snake_case
```

#### 3.5.2 è¯·æ±‚/å“åº”å‚æ•°å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `camelCase`

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// è¯·æ±‚å‚æ•°
interface LoginRequest {
  email: string
  password: string
  rememberMe?: boolean
}

interface RegisterRequest {
  email: string
  username: string
  password: string
  displayName?: string
  agreeToTerms: boolean
}

interface GameSubmissionRequest {
  sessionId: string
  solutionData: SolutionData
  completionTime: number
  errorCount: number
}

// å“åº”æ•°æ®
interface UserProfileResponse {
  id: string
  email: string
  username: string
  displayName: string
  createdAt: string
  lastLoginAt: string
  permissions: {
    hasLeaderboardAccess: boolean
    hasAdFreeAccess: boolean
  }
}

interface LeaderboardResponse {
  entries: Array<{
    rank: number
    userId: string
    username: string
    score: number
    completionTime: number
  }>
  pagination: {
    currentPage: number
    totalPages: number
    totalItems: number
  }
  updatedAt: string
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
interface LoginRequest {
  Email: string              # ä¸ä½¿ç”¨PascalCase
  password_hash: string      # ä¸ä½¿ç”¨snake_case
  remember_me: boolean       # ä¸ä½¿ç”¨snake_case
}

interface UserResponse {
  user_id: string           # ä¸ä½¿ç”¨snake_case
  created_date: string      # åº”è¯¥ä½¿ç”¨createdAt
  last_login: string        # åº”è¯¥ä½¿ç”¨lastLoginAt
}
```

## 4. Gitå·¥ä½œæµå‘½åè§„èŒƒ

### 4.1 åˆ†æ”¯å‘½åè§„èŒƒ

#### 4.1.1 åˆ†æ”¯ç±»å‹å’Œå‘½å
**è§„åˆ™**ï¼š`ç±»å‹/ç®€çŸ­æè¿°` æ ¼å¼

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
main                       # ä¸»åˆ†æ”¯
develop                    # å¼€å‘åˆ†æ”¯

# åŠŸèƒ½åˆ†æ”¯
feature/user-authentication
feature/game-engine
feature/leaderboard-system
feature/payment-integration

# ä¿®å¤åˆ†æ”¯
hotfix/login-error-fix
hotfix/score-calculation-bug
hotfix/memory-leak-fix

# å‘å¸ƒåˆ†æ”¯
release/v1.0.0
release/v1.1.0

# å®éªŒåˆ†æ”¯
experiment/new-game-mode
experiment/ai-puzzle-generator

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
Feature/UserAuth           # ä¸ä½¿ç”¨PascalCase
feature_user_auth          # ä¸ä½¿ç”¨snake_case
fix/bug                    # æè¿°è¿‡äºç®€å•
user-auth-feature          # ç¼ºå°‘ç±»å‹å‰ç¼€
HOTFIX/LOGIN-BUG          # ä¸ä½¿ç”¨å…¨å¤§å†™
```

#### 4.1.2 åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
**è§„åˆ™**ï¼šåˆ†æ”¯å‘½ååº”è¯¥åæ˜ å…¶ç”Ÿå‘½å‘¨æœŸå’Œç”¨é€”

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
# é•¿æœŸåˆ†æ”¯
main                       # ç”Ÿäº§ç‰ˆæœ¬
develop                    # å¼€å‘é›†æˆ

# çŸ­æœŸåˆ†æ”¯ï¼ˆå®Œæˆååˆ é™¤ï¼‰
feature/phaser-game-integration
hotfix/stripe-webhook-timeout
release/v1.2.0-beta

# ä¸ªäººå¼€å‘åˆ†æ”¯
dev/john/experimental-ui
dev/alice/performance-optimization

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
temp-branch               # è¿‡äºä¸´æ—¶æ€§
johns-work               # ä¸ªäººæ ‡è¯†ä¸æ¸…æ™°
test                     # ç”¨é€”ä¸æ˜ç¡®
backup                   # ä¸åº”è¯¥ç”¨äºå¤‡ä»½
```

### 4.2 æäº¤ä¿¡æ¯è§„èŒƒ

#### 4.2.1 æäº¤ä¿¡æ¯æ ¼å¼
**è§„åˆ™**ï¼šéµå¾ª Conventional Commits è§„èŒƒ

```
æ ¼å¼ï¼š<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**ç±»å‹å®šä¹‰**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ä¿®æ”¹ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `build`: æ„å»ºç³»ç»Ÿæˆ–ä¾èµ–æ›´æ–°
- `ci`: CI/CDé…ç½®ä¿®æ”¹
- `chore`: å…¶ä»–ä¸å½±å“ä»£ç çš„æ›´æ–°

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
feat(game): add Phaser.js game engine integration
fix(auth): resolve JWT token expiration issue
docs(api): update authentication endpoint documentation
style(frontend): format code with prettier
refactor(leaderboard): optimize ranking calculation algorithm
perf(database): add indexes for game_sessions table
test(payment): add unit tests for Stripe integration
build(deps): upgrade Next.js to version 15
ci(deploy): add automated deployment workflow
chore(config): update environment variables

# å¸¦æœ‰è¯¦ç»†æè¿°çš„æäº¤
feat(leaderboard): implement real-time ranking updates

- Add WebSocket connection for live leaderboard updates
- Implement efficient ranking calculation algorithm
- Add caching layer for improved performance
- Update frontend components to handle real-time data

Closes #123

# Breaking change æäº¤
feat(api)!: change authentication response format

BREAKING CHANGE: The authentication endpoint now returns user permissions in a nested object instead of flat properties.

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
Add game feature              # ç¼ºå°‘ç±»å‹å’Œscope
fix bug                       # æè¿°è¿‡äºç®€å•
Updated some files            # æè¿°ä¸æ˜ç¡®
WIP: working on auth          # ä¸åº”è¯¥æäº¤WIPçŠ¶æ€
Fixed everything              # æè¿°è¿‡äºå¤¸å¼ 
feat: æ·»åŠ æ¸¸æˆåŠŸèƒ½             # ä¸åº”è¯¥ä½¿ç”¨ä¸­æ–‡æè¿°
```

#### 4.2.2 æäº¤æ¶ˆæ¯æœ€ä½³å®è·µ

```
âœ… å¥½çš„æäº¤æ¶ˆæ¯ç‰¹ç‚¹ï¼š
1. ä½¿ç”¨è‹±æ–‡æè¿°
2. åŠ¨è¯ä½¿ç”¨ç°åœ¨æ—¶æ€ï¼ˆadd, fix, updateï¼‰
3. æè¿°å…·ä½“çš„å˜æ›´å†…å®¹
4. åŒ…å«å½±å“èŒƒå›´ï¼ˆscopeï¼‰
5. ä¿æŒç®€æ´ä½†ä¿¡æ¯å®Œæ•´

âœ… æäº¤é¢‘ç‡å»ºè®®ï¼š
- åŠŸèƒ½å¼€å‘ï¼šæ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æäº¤
- Bugä¿®å¤ï¼šæ¯ä¿®å¤ä¸€ä¸ªbugå°±æäº¤
- é‡æ„ï¼šæ¯å®Œæˆä¸€ä¸ªé‡æ„å•å…ƒå°±æäº¤
- é¿å…ä¸€æ¬¡æ€§æäº¤å¤§é‡ä¿®æ”¹

âœ… æäº¤å†…å®¹åŸåˆ™ï¼š
- æ¯æ¬¡æäº¤åªåŒ…å«ä¸€ä¸ªé€»è¾‘ä¿®æ”¹
- ç¡®ä¿æäº¤åä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ
- é¿å…æäº¤è°ƒè¯•ä»£ç æˆ–ä¸´æ—¶æ–‡ä»¶
- æäº¤å‰è¿›è¡Œä»£ç review
```

### 4.3 æ ‡ç­¾å‘½åè§„èŒƒ

#### 4.3.1 ç‰ˆæœ¬æ ‡ç­¾
**è§„åˆ™**ï¼šéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
v1.0.0                    # ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
v1.0.1                    # ä¿®å¤ç‰ˆæœ¬
v1.1.0                    # æ–°åŠŸèƒ½ç‰ˆæœ¬
v2.0.0                    # é‡å¤§æ›´æ–°ç‰ˆæœ¬

# é¢„å‘å¸ƒç‰ˆæœ¬
v1.0.0-alpha.1           # Alphaæµ‹è¯•ç‰ˆæœ¬
v1.0.0-beta.1            # Betaæµ‹è¯•ç‰ˆæœ¬
v1.0.0-rc.1              # Release Candidateç‰ˆæœ¬

# ç‰¹æ®Šæ ‡ç­¾
v1.0.0-hotfix.1          # ç´§æ€¥ä¿®å¤ç‰ˆæœ¬

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
1.0.0                     # ç¼ºå°‘vå‰ç¼€
version-1.0.0            # ä¸ä½¿ç”¨æ ‡å‡†æ ¼å¼
release_1_0_0            # ä¸ä½¿ç”¨ä¸‹åˆ’çº¿
V1.0.0                   # våº”è¯¥å°å†™
```

## 5. å¸¸é‡å’Œæšä¸¾å‘½å

### 5.1 å¸¸é‡å‘½åè§„èŒƒ

#### 5.1.1 å…¨å±€å¸¸é‡
**è§„åˆ™**ï¼šä½¿ç”¨ `UPPER_SNAKE_CASE`

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ¸¸æˆé…ç½®å¸¸é‡
export const GAME_CONFIG = {
  MIN_GRID_SIZE: 5,
  MAX_GRID_SIZE: 15,
  DEFAULT_GAME_DURATION: 600,  // 10åˆ†é’Ÿ
  MAX_ERROR_COUNT: 10,
  SCORE_MULTIPLIER: 100
} as const

// APIé…ç½®å¸¸é‡
export const API_ENDPOINTS = {
  AUTH_LOGIN: '/api/auth/login',
  AUTH_REGISTER: '/api/auth/register',
  GAME_SUBMIT: '/api/game-sessions/submit',
  LEADERBOARD_DAILY: '/api/leaderboard/daily'
} as const

// æ—¶é—´å¸¸é‡
export const TIME_CONSTANTS = {
  ONE_SECOND: 1000,
  ONE_MINUTE: 60 * 1000,
  ONE_HOUR: 60 * 60 * 1000,
  ONE_DAY: 24 * 60 * 60 * 1000
} as const

// é”™è¯¯ä»£ç å¸¸é‡
export const ERROR_CODES = {
  UNAUTHORIZED: 'UNAUTHORIZED',
  INVALID_CREDENTIALS: 'INVALID_CREDENTIALS',
  GAME_NOT_FOUND: 'GAME_NOT_FOUND',
  PAYMENT_FAILED: 'PAYMENT_FAILED'
} as const

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
export const gameConfig = { }        # ä¸ä½¿ç”¨camelCase
export const game_config = { }       # åº”è¯¥å…¨å¤§å†™
export const GameConfig = { }        # ä¸ä½¿ç”¨PascalCase
export const GAMECONFIG = { }        # ç¼ºå°‘ä¸‹åˆ’çº¿åˆ†éš”
```

#### 5.1.2 ç»„ä»¶å†…å¸¸é‡
**è§„åˆ™**ï¼šä½¿ç”¨ `UPPER_SNAKE_CASE`ï¼Œç»„ä»¶ä½œç”¨åŸŸå†…

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
export const GameBoard: React.FC = () => {
  // ç»„ä»¶å†…å¸¸é‡
  const ANIMATION_DURATION = 300
  const GRID_CELL_SIZE = 40
  const TOUCH_THRESHOLD = 10
  const DEFAULT_DIFFICULTY = 'medium'
  
  // æ ·å¼å¸¸é‡
  const BUTTON_VARIANTS = {
    PRIMARY: 'bg-blue-500 hover:bg-blue-600',
    SECONDARY: 'bg-gray-500 hover:bg-gray-600',
    DANGER: 'bg-red-500 hover:bg-red-600'
  } as const
  
  return <div>...</div>
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
const animationDuration = 300        # ä¸ä½¿ç”¨camelCaseä½œä¸ºå¸¸é‡
const ANIMATIONDURATION = 300        # ç¼ºå°‘ä¸‹åˆ’çº¿åˆ†éš”
const Animation_Duration = 300       # ä¸ä½¿ç”¨æ··åˆå¤§å°å†™
```

### 5.2 æšä¸¾å‘½åè§„èŒƒ

#### 5.2.1 TypeScriptæšä¸¾
**è§„åˆ™**ï¼šæšä¸¾åä½¿ç”¨ `PascalCase`ï¼Œæšä¸¾å€¼ä½¿ç”¨ `UPPER_SNAKE_CASE`

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// æ¸¸æˆéš¾åº¦æšä¸¾
export enum GameDifficulty {
  EASY = 'easy',
  MEDIUM = 'medium',
  HARD = 'hard',
  MASTER = 'master',
  NINJA = 'ninja'
}

// ç”¨æˆ·æƒé™æšä¸¾
export enum UserPermission {
  READ_ONLY = 'read_only',
  LEADERBOARD_ACCESS = 'leaderboard_access',
  AD_FREE_ACCESS = 'ad_free_access',
  ADMIN_ACCESS = 'admin_access'
}

// æ¸¸æˆçŠ¶æ€æšä¸¾
export enum GameStatus {
  NOT_STARTED = 'not_started',
  IN_PROGRESS = 'in_progress',
  PAUSED = 'paused',
  COMPLETED = 'completed',
  ABANDONED = 'abandoned'
}

// æ”¯ä»˜çŠ¶æ€æšä¸¾
export enum PaymentStatus {
  PENDING = 'pending',
  PROCESSING = 'processing',
  COMPLETED = 'completed',
  FAILED = 'failed',
  REFUNDED = 'refunded'
}

// å¥–æ¯ç±»å‹æšä¸¾
export enum TrophyType {
  DAILY_GOLD = 'daily_gold',
  DAILY_SILVER = 'daily_silver',
  DAILY_BRONZE = 'daily_bronze',
  WEEKLY_GOLD = 'weekly_gold',
  WEEKLY_SILVER = 'weekly_silver',
  WEEKLY_BRONZE = 'weekly_bronze',
  MONTHLY_GOLD = 'monthly_gold',
  MONTHLY_SILVER = 'monthly_silver',
  MONTHLY_BRONZE = 'monthly_bronze'
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
enum gameDifficulty {               # ä¸ä½¿ç”¨camelCase
  easy = 'easy',                    # æšä¸¾å€¼åº”è¯¥å¤§å†™
  Medium = 'medium',                # æšä¸¾å€¼ä¸ä½¿ç”¨PascalCase
  HARD = 'Hard'                     # æšä¸¾å€¼åº”è¯¥ä¸å­—ç¬¦ä¸²å€¼ä¸€è‡´
}

enum GAME_STATUS {                  # ä¸ä½¿ç”¨å…¨å¤§å†™
  notStarted = 'not_started',       # ä¸ä½¿ç”¨camelCase
  in-progress = 'in-progress'       # ä¸ä½¿ç”¨kebab-case
}
```

#### 5.2.2 è”åˆç±»å‹ä½œä¸ºæšä¸¾
**è§„åˆ™**ï¼šå½“æšä¸¾å€¼è¾ƒå°‘æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è”åˆç±»å‹

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
// ç®€å•çš„è”åˆç±»å‹
export type Theme = 'light' | 'dark'
export type Language = 'en' | 'zh' | 'es' | 'fr'
export type SortOrder = 'asc' | 'desc'
export type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'

// å¸¦æœ‰å¸¸é‡æ–­è¨€çš„å¯¹è±¡
export const SORT_ORDERS = {
  ASCENDING: 'asc',
  DESCENDING: 'desc'
} as const

export type SortOrder = typeof SORT_ORDERS[keyof typeof SORT_ORDERS]

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
type theme = 'Light' | 'Dark'        # ä¸ä½¿ç”¨camelCaseï¼Œå€¼åº”è¯¥å°å†™
type LANGUAGE = 'EN' | 'ZH'          # ä¸ä½¿ç”¨å…¨å¤§å†™
type Sort_Order = 'ASC' | 'DESC'     # ä¸ä½¿ç”¨snake_case
```

## 6. ç¯å¢ƒå˜é‡å‘½åè§„èŒƒ

### 6.1 ç¯å¢ƒå˜é‡åˆ†ç±»

#### 6.1.1 æ•°æ®åº“é…ç½®
**è§„åˆ™**ï¼šä½¿ç”¨ `UPPER_SNAKE_CASE` + å‰ç¼€

```bash
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
# PostgreSQLæ•°æ®åº“
DATABASE_URL=postgresql://user:pass@localhost:5432/slitherlink
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=slitherlink
DATABASE_USER=postgres
DATABASE_PASSWORD=securepassword
DATABASE_SSL=true
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20

# Redisç¼“å­˜
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redispassword
REDIS_DB=0

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
db_url=...                  # ä¸ä½¿ç”¨å…¨å¤§å†™
DatabaseUrl=...             # ä¸ä½¿ç”¨PascalCase
database-url=...            # ä¸ä½¿ç”¨kebab-case
```

#### 6.1.2 ç¬¬ä¸‰æ–¹æœåŠ¡é…ç½®
**è§„åˆ™**ï¼šæœåŠ¡å + é…ç½®é¡¹

```bash
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
# Stripeæ”¯ä»˜
STRIPE_PUBLIC_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# SendGridé‚®ä»¶
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=noreply@slitherlink.game
SENDGRID_FROM_NAME="æ•°å›æŒ‘æˆ˜"

# Google Analytics
GA_TRACKING_ID=G-XXXXXXXXXX
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentryé”™è¯¯è¿½è¸ª
SENTRY_DSN=https://...
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=v1.0.0

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
stripeKey=...               # ä¸ä½¿ç”¨camelCase
stripe_public_key=...       # åº”è¯¥å…¨å¤§å†™
STRIPE-PUBLIC-KEY=...       # ä¸ä½¿ç”¨kebab-case
```

#### 6.1.3 åº”ç”¨é…ç½®
**è§„åˆ™**ï¼šåŠŸèƒ½æè¿° + é…ç½®é¡¹

```bash
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
# åº”ç”¨åŸºç¡€é…ç½®
NODE_ENV=production
PORT=3000
API_VERSION=v1
APP_NAME="Slitherlink Game"
APP_URL=https://slitherlink.game
FRONTEND_URL=https://slitherlink.game
API_BASE_URL=https://api.slitherlink.game

# JWTé…ç½®
JWT_SECRET=your-super-secret-key
JWT_ACCESS_TOKEN_EXPIRY=1h
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_ISSUER=slitherlink-game
JWT_AUDIENCE=slitherlink-users

# å®‰å…¨é…ç½®
ENCRYPTION_KEY=your-encryption-key
ENCRYPTION_SALT=your-salt-value
CORS_ORIGIN=https://slitherlink.game
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
nodeEnv=production          # ä¸ä½¿ç”¨camelCase
jwt_secret=...              # åº”è¯¥å…¨å¤§å†™
app-name=...                # ä¸ä½¿ç”¨kebab-case
```

### 6.2 ç¯å¢ƒæ–‡ä»¶ç»„ç»‡

#### 6.2.1 ç¯å¢ƒæ–‡ä»¶å‘½å
**è§„åˆ™**ï¼š`.env` + ç¯å¢ƒåç¼€

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
.env                        # é»˜è®¤ç¯å¢ƒå˜é‡
.env.local                  # æœ¬åœ°å¼€å‘ç¯å¢ƒ
.env.development            # å¼€å‘ç¯å¢ƒ
.env.test                   # æµ‹è¯•ç¯å¢ƒ
.env.staging                # é¢„å‘å¸ƒç¯å¢ƒ
.env.production             # ç”Ÿäº§ç¯å¢ƒ
.env.example                # ç¤ºä¾‹æ–‡ä»¶ï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
env.local                   # ç¼ºå°‘ç‚¹å‰ç¼€
.environment               # ä¸ä½¿ç”¨æ ‡å‡†å‘½å
.env_development           # ä¸ä½¿ç”¨ä¸‹åˆ’çº¿
.env-dev                   # ä¸ä½¿ç”¨æ ‡å‡†åç¼€
```

## 7. æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ

### 7.1 æµ‹è¯•æ–‡ä»¶å‘½å

#### 7.1.1 å•å…ƒæµ‹è¯•æ–‡ä»¶
**è§„åˆ™**ï¼šè¢«æµ‹è¯•æ–‡ä»¶å + `.test.ts` æˆ– `.spec.ts`

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
src/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ AuthService.ts
â”‚   â”œâ”€â”€ AuthService.test.ts      # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ GameService.ts
â”‚   â””â”€â”€ GameService.test.ts

â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ gameHelper.ts
â”‚   â”œâ”€â”€ gameHelper.test.ts
â”‚   â”œâ”€â”€ validation.ts
â”‚   â””â”€â”€ validation.test.ts

â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ GameBoard.tsx
â”‚   â”œâ”€â”€ GameBoard.test.tsx
â”‚   â”œâ”€â”€ LeaderboardList.tsx
â”‚   â””â”€â”€ LeaderboardList.test.tsx

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
AuthService_test.ts         # ä¸ä½¿ç”¨ä¸‹åˆ’çº¿
AuthServiceTest.ts          # ä¸ä½¿ç”¨Teståç¼€
auth-service.test.ts        # ä¸åŸæ–‡ä»¶å‘½åä¸ä¸€è‡´
test-auth-service.ts        # ä¸ä½¿ç”¨testå‰ç¼€
```

#### 7.1.2 é›†æˆæµ‹è¯•æ–‡ä»¶
**è§„åˆ™**ï¼šåŠŸèƒ½æè¿° + `.integration.test.ts`

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
tests/
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ auth.integration.test.ts           # è®¤è¯é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ game-flow.integration.test.ts      # æ¸¸æˆæµç¨‹é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ payment.integration.test.ts        # æ”¯ä»˜é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ leaderboard.integration.test.ts    # æ’è¡Œæ¦œé›†æˆæµ‹è¯•

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
authIntegration.test.ts     # ä¸ä½¿ç”¨kebab-case
auth_integration_test.ts    # ä¸ä½¿ç”¨snake_case
integration-auth.test.ts    # é¡ºåºä¸å¯¹
```

#### 7.1.3 ç«¯åˆ°ç«¯æµ‹è¯•æ–‡ä»¶
**è§„åˆ™**ï¼šç”¨æˆ·åœºæ™¯ + `.e2e.test.ts`

```
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
e2e/
â”œâ”€â”€ user-registration.e2e.test.ts          # ç”¨æˆ·æ³¨å†Œæµç¨‹
â”œâ”€â”€ game-completion.e2e.test.ts            # æ¸¸æˆå®Œæˆæµç¨‹
â”œâ”€â”€ payment-process.e2e.test.ts            # æ”¯ä»˜æµç¨‹
â”œâ”€â”€ leaderboard-ranking.e2e.test.ts        # æ’è¡Œæ¦œæŸ¥çœ‹
â””â”€â”€ trophy-earning.e2e.test.ts             # å¥–æ¯è·å¾—æµç¨‹

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
userRegistration.e2e.ts     # ç¼ºå°‘teståç¼€
user_registration.e2e.ts    # ä¸ä½¿ç”¨snake_case
e2e.user.registration.ts    # æ ¼å¼ä¸æ ‡å‡†
```

### 7.2 æµ‹è¯•å‡½æ•°å‘½å

#### 7.2.1 æµ‹è¯•å¥—ä»¶å’Œç”¨ä¾‹å‘½å
**è§„åˆ™**ï¼šä½¿ç”¨ `describe` å’Œ `it` çš„æ¸…æ™°æè¿°

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
describe('AuthService', () => {
  describe('login method', () => {
    it('should return user data when credentials are valid', async () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should throw error when email is invalid', async () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should throw error when password is incorrect', async () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should update last login time on successful login', async () => {
      // æµ‹è¯•å®ç°
    })
  })
  
  describe('register method', () => {
    it('should create new user when data is valid', async () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should hash password before saving', async () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should throw error when email already exists', async () => {
      // æµ‹è¯•å®ç°
    })
  })
})

describe('GameBoard component', () => {
  describe('rendering', () => {
    it('should render grid with correct size', () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should display numbers in correct positions', () => {
      // æµ‹è¯•å®ç°
    })
  })
  
  describe('user interactions', () => {
    it('should draw line when user clicks between grid points', () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should remove line when user clicks existing line', () => {
      // æµ‹è¯•å®ç°
    })
    
    it('should mark line as blocked when user right-clicks', () => {
      // æµ‹è¯•å®ç°
    })
  })
})

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
describe('AuthService tests', () => {        # ä¸éœ€è¦"tests"åç¼€
  it('login works', () => {                  # æè¿°è¿‡äºç®€å•
    // æµ‹è¯•å®ç°
  })
  
  it('should login user', () => {            # æè¿°ä¸å¤Ÿå…·ä½“
    // æµ‹è¯•å®ç°
  })
  
  it('test invalid email', () => {           # ä¸ä½¿ç”¨"test"å¼€å¤´
    // æµ‹è¯•å®ç°
  })
})
```

## 8. æ–‡æ¡£å’Œæ³¨é‡Šè§„èŒƒ

### 8.1 ä»£ç æ³¨é‡Šè§„èŒƒ

#### 8.1.1 å‡½æ•°å’Œæ–¹æ³•æ³¨é‡Š
**è§„åˆ™**ï¼šä½¿ç”¨JSDocæ ¼å¼

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
/**
 * è®¡ç®—æ¸¸æˆå¾—åˆ†
 * @param timeElapsed - æ¸¸æˆè€—æ—¶ï¼ˆç§’ï¼‰
 * @param errors - é”™è¯¯æ¬¡æ•°
 * @param difficulty - æ¸¸æˆéš¾åº¦
 * @returns è®¡ç®—åçš„å¾—åˆ†
 * @throws {Error} å½“å‚æ•°æ— æ•ˆæ—¶æŠ›å‡ºé”™è¯¯
 * @example
 * ```typescript
 * const score = calculateGameScore(300, 2, 'medium');
 * console.log(score); // 1400
 * ```
 */
export function calculateGameScore(
  timeElapsed: number,
  errors: number,
  difficulty: GameDifficulty
): number {
  if (timeElapsed <= 0 || errors < 0) {
    throw new Error('Invalid parameters for score calculation')
  }
  
  // åŸºç¡€åˆ†æ•°æ ¹æ®éš¾åº¦ç¡®å®š
  const baseScore = getDifficultyBaseScore(difficulty)
  
  // æ—¶é—´æƒ©ç½šï¼šè¶…è¿‡é¢„æœŸæ—¶é—´çš„éƒ¨åˆ†ä¼šæ‰£åˆ†
  const timePenalty = Math.max(0, timeElapsed - getExpectedTime(difficulty)) * 2
  
  // é”™è¯¯æƒ©ç½šï¼šæ¯ä¸ªé”™è¯¯æ‰£50åˆ†
  const errorPenalty = errors * 50
  
  return Math.max(100, baseScore - timePenalty - errorPenalty)
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
// è®¡ç®—åˆ†æ•°
function calculateScore(time, errors, diff) {    # ç¼ºå°‘è¯¦ç»†æ³¨é‡Š
  return 1000 - time - errors * 50              # ç¼ºå°‘é€»è¾‘è¯´æ˜
}

/* è¿™ä¸ªå‡½æ•°ç”¨æ¥è®¡ç®—æ¸¸æˆåˆ†æ•°ï¼Œè¾“å…¥æ—¶é—´å’Œé”™è¯¯æ•° */
function calc(t, e) {                            # å‡½æ•°åå’Œå‚æ•°åä¸æ¸…æ™°
  // TODO: å®ç°è®¡ç®—é€»è¾‘
}
```

#### 8.1.2 å¤æ‚é€»è¾‘æ³¨é‡Š
**è§„åˆ™**ï¼šè§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œè€Œä¸æ˜¯åšä»€ä¹ˆ

```typescript
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
export class LeaderboardService {
  async updateRankings(): Promise<void> {
    // ä½¿ç”¨åˆ†å¸ƒå¼é”é˜²æ­¢å¹¶å‘æ›´æ–°å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´
    // å¤šä¸ªæœåŠ¡å™¨å®ä¾‹åŒæ—¶æ›´æ–°æ’è¡Œæ¦œå¯èƒ½å¯¼è‡´æ’åé”™ä¹±
    const lockKey = 'leaderboard:update:lock'
    const lockAcquired = await this.cache.acquireLock(lockKey, 300)
    
    if (!lockAcquired) {
      logger.warn('Failed to acquire leaderboard update lock, skipping update')
      return
    }
    
    try {
      // æ‰¹é‡æŸ¥è¯¢æ‰€æœ‰éœ€è¦æ›´æ–°çš„æ¸¸æˆè®°å½•
      // ä½¿ç”¨çª—å£å‡½æ•°ä¸€æ¬¡æ€§è®¡ç®—æ’åï¼Œé¿å…å¤šæ¬¡æŸ¥è¯¢
      const rankings = await this.db.query(`
        SELECT 
          user_id,
          score,
          ROW_NUMBER() OVER (ORDER BY score DESC, completed_at ASC) as rank
        FROM game_sessions 
        WHERE DATE(completed_at) = CURRENT_DATE
          AND is_completed = true
      `)
      
      // ä½¿ç”¨æ‰¹é‡æ›´æ–°å‡å°‘æ•°æ®åº“æ“ä½œæ¬¡æ•°
      // å•æ¡æ›´æ–°åœ¨æ•°æ®é‡å¤§æ—¶ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜
      await this.batchUpdateRankings(rankings)
      
    } finally {
      await this.cache.releaseLock(lockKey)
    }
  }
}

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
// æ›´æ–°æ’è¡Œæ¦œ
async updateRankings() {
  const data = await this.db.query('SELECT ...')  # æ²¡æœ‰è§£é‡ŠæŸ¥è¯¢é€»è¾‘
  for (let item of data) {                         # æ²¡æœ‰è§£é‡Šä¸ºä»€ä¹ˆç”¨å¾ªç¯
    await this.updateRank(item)                    # æ²¡æœ‰è§£é‡Šæ€§èƒ½å½±å“
  }
}
```

### 8.2 READMEæ–‡æ¡£è§„èŒƒ

#### 8.2.1 é¡¹ç›®READMEç»“æ„
**è§„åˆ™**ï¼šä½¿ç”¨æ ‡å‡†çš„READMEç»“æ„

```markdown
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
# æ•°å›åœ¨çº¿æ¸¸æˆå¹³å°

## é¡¹ç›®ç®€ä»‹
æ•°å›æ˜¯ä¸€ä¸ªåœ¨çº¿é€»è¾‘æ‹¼å›¾æ¸¸æˆå¹³å°ï¼Œæä¾›æ¯æ—¥æŒ‘æˆ˜ã€æ’è¡Œæ¦œç«æŠ€ã€å¥–æ¯æ”¶é›†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§
- ğŸ® æµç•…çš„æ¸¸æˆä½“éªŒ
- ğŸ† å®æ—¶æ’è¡Œæ¦œ
- ğŸ¯ æ¯æ—¥æŒ‘æˆ˜
- ğŸ’ å¥–æ¯æ”¶é›†ç³»ç»Ÿ

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šNext.js 15 + React + TypeScript + Phaser.js
- åç«¯ï¼šNode.js + Express + PostgreSQL + Redis
- éƒ¨ç½²ï¼šDocker + AWS EC2

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 20+
- PostgreSQL 15+
- Redis 7+

### å®‰è£…æ­¥éª¤
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/slitherlink-game.git

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ components/          # Reactç»„ä»¶
â”œâ”€â”€ pages/              # Next.jsé¡µé¢
â”œâ”€â”€ lib/                # å·¥å…·åº“
â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â””â”€â”€ styles/             # æ ·å¼æ–‡ä»¶
```

## APIæ–‡æ¡£
è¯¦è§ [APIæ–‡æ¡£](./docs/api.md)

## è´¡çŒ®æŒ‡å—
è¯¦è§ [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)

## è®¸å¯è¯
MIT License
```

### 8.3 APIæ–‡æ¡£è§„èŒƒ

#### 8.3.1 APIç«¯ç‚¹æ–‡æ¡£
**è§„åˆ™**ï¼šåŒ…å«å®Œæ•´çš„è¯·æ±‚å’Œå“åº”ç¤ºä¾‹

```markdown
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
## ç”¨æˆ·è®¤è¯

### POST /api/auth/login

ç”¨æˆ·ç™»å½•æ¥å£

**è¯·æ±‚å‚æ•°**

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| email | string | æ˜¯ | ç”¨æˆ·é‚®ç®± |
| password | string | æ˜¯ | ç”¨æˆ·å¯†ç  |
| rememberMe | boolean | å¦ | æ˜¯å¦è®°ä½ç™»å½•çŠ¶æ€ |

**è¯·æ±‚ç¤ºä¾‹**
```json
{
  "email": "user@example.com",
  "password": "securepassword",
  "rememberMe": true
}
```

**å“åº”ç¤ºä¾‹**
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "user_123",
      "email": "user@example.com",
      "username": "player1",
      "displayName": "Player One"
    },
    "tokens": {
      "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
      "refreshToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
    }
  },
  "meta": {
    "timestamp": "2024-01-15T10:30:00Z"
  }
}
```

**é”™è¯¯å“åº”**
```json
{
  "success": false,
  "error": {
    "code": "INVALID_CREDENTIALS",
    "message": "é‚®ç®±æˆ–å¯†ç é”™è¯¯"
  }
}
```

**çŠ¶æ€ç **
- 200: ç™»å½•æˆåŠŸ
- 400: è¯·æ±‚å‚æ•°é”™è¯¯
- 401: è®¤è¯å¤±è´¥
- 429: è¯·æ±‚è¿‡äºé¢‘ç¹
```

## 9. æ€»ç»“

### 9.1 å‘½åè§„èŒƒæ ¸å¿ƒåŸåˆ™

1. **ä¸€è‡´æ€§ç¬¬ä¸€**ï¼šç›¸åŒç±»å‹çš„å®ä½“ä½¿ç”¨ç›¸åŒçš„å‘½åæ¨¡å¼
2. **æ¸…æ™°è¡¨è¾¾**ï¼šåç§°åº”è¯¥æ¸…æ¥šè¡¨è¾¾å…¶ç”¨é€”å’Œå«ä¹‰
3. **ä¸Šä¸‹æ–‡ç›¸å…³**ï¼šåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­é€‰æ‹©åˆé€‚çš„å‘½åçº¦å®š
4. **é¿å…ç¼©å†™**ï¼šé™¤éæ˜¯å¹¿æ³›è®¤çŸ¥çš„ç¼©å†™
5. **è‹±æ–‡ä¼˜å…ˆ**ï¼šæ‰€æœ‰ä»£ç ç›¸å…³å‘½åä½¿ç”¨è‹±æ–‡

### 9.2 ä¸åŒå±‚æ¬¡çš„å‘½åçº¦å®š

| å±‚æ¬¡ | çº¦å®š | ç¤ºä¾‹ |
|------|------|------|
| æ–‡ä»¶/ç›®å½• | kebab-case | `game-engine/`, `UserProfile.tsx` |
| ç±»/æ¥å£ | PascalCase | `AuthService`, `GameSession` |
| å‡½æ•°/å˜é‡ | camelCase | `calculateScore`, `currentUser` |
| å¸¸é‡ | UPPER_SNAKE_CASE | `MAX_SCORE`, `API_ENDPOINTS` |
| æ•°æ®åº“ | snake_case | `game_sessions`, `user_id` |
| ç¯å¢ƒå˜é‡ | UPPER_SNAKE_CASE | `DATABASE_URL`, `JWT_SECRET` |

### 9.3 å®æ–½å»ºè®®

#### 9.3.1 å›¢é˜Ÿè§„èŒƒæ‰§è¡Œ
1. **ä»£ç å®¡æŸ¥æ£€æŸ¥ç‚¹**ï¼šåœ¨PRå®¡æŸ¥æ—¶ä¸¥æ ¼æ£€æŸ¥å‘½åè§„èŒƒ
2. **è‡ªåŠ¨åŒ–å·¥å…·**ï¼šä½¿ç”¨ESLintã€Prettierç­‰å·¥å…·å¼ºåˆ¶æ‰§è¡Œè§„èŒƒ
3. **æ–‡æ¡£æ›´æ–°**ï¼šå‘½åè§„èŒƒå˜æ›´æ—¶åŠæ—¶æ›´æ–°æ–‡æ¡£
4. **åŸ¹è®­å’Œè®¨è®º**ï¼šå®šæœŸå›¢é˜Ÿè®¨è®ºï¼Œç»Ÿä¸€ç†è§£å’Œæ‰§è¡Œ

#### 9.3.2 å·¥å…·é…ç½®å»ºè®®

**ESLinté…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "rules": {
    "camelcase": ["error", { "properties": "never" }],
    "@typescript-eslint/naming-convention": [
      "error",
      {
        "selector": "interface",
        "format": ["PascalCase"]
      },
      {
        "selector": "typeAlias",
        "format": ["PascalCase"]
      },
      {
        "selector": "enum",
        "format": ["PascalCase"]
      },
      {
        "selector": "enumMember",
        "format": ["UPPER_CASE"]
      }
    ]
  }
}
```

**Git hooksé…ç½®**ï¼š
```bash
# pre-commit hookæ£€æŸ¥å‘½åè§„èŒƒ
#!/bin/bash
# æ£€æŸ¥åˆ†æ”¯å‘½å
branch=$(git rev-parse --abbrev-ref HEAD)
valid_pattern="^(feature|hotfix|release|experiment)\/[a-z0-9-]+$"

if [[ ! $branch =~ $valid_pattern ]]; then
  echo "Branch name '$branch' does not follow naming convention"
  echo "Use: feature/description, hotfix/description, etc."
  exit 1
fi

# æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼
commit_regex="^(feat|fix|docs|style|refactor|perf|test|build|ci|chore)(\(.+\))?: .{1,50}"
commit_message=$(cat "$1")

if [[ ! $commit_message =~ $commit_regex ]]; then
  echo "Commit message does not follow conventional commits format"
  exit 1
fi
```

### 9.4 å‘½åè§„èŒƒæ£€æŸ¥æ¸…å•

#### 9.4.1 ä»£ç å®¡æŸ¥æ£€æŸ¥ç‚¹
- [ ] æ–‡ä»¶åç¬¦åˆå¯¹åº”çš„å‘½åçº¦å®š
- [ ] ç±»ã€æ¥å£ã€å‡½æ•°åç§°æ¸…æ™°è¡¨è¾¾ç”¨é€”
- [ ] å˜é‡åé¿å…ä½¿ç”¨ç¼©å†™å’Œæ¨¡ç³Šè¯æ±‡
- [ ] å¸¸é‡ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™æ ¼å¼
- [ ] æ•°æ®åº“å­—æ®µåç¬¦åˆsnake_caseçº¦å®š
- [ ] APIç«¯ç‚¹éµå¾ªRESTfulå‘½åè§„èŒƒ
- [ ] ç¯å¢ƒå˜é‡ä½¿ç”¨æè¿°æ€§åç§°
- [ ] Gitåˆ†æ”¯å’Œæäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®

#### 9.4.2 æ–°é¡¹ç›®å¯åŠ¨æ£€æŸ¥ç‚¹
- [ ] å»ºç«‹é¡¹ç›®ç‰¹å®šçš„å‘½åçº¦å®šæ–‡æ¡£
- [ ] é…ç½®ä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥å·¥å…·
- [ ] è®¾ç½®Git hooksè¿›è¡Œè‡ªåŠ¨æ£€æŸ¥
- [ ] å›¢é˜Ÿæˆå‘˜åŸ¹è®­å’Œè§„èŒƒç¡®è®¤
- [ ] ç¤ºä¾‹ä»£ç å’Œæ¨¡æ¿å‡†å¤‡

### 9.5 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### 9.5.1 è·¨è¯­è¨€å‘½åå†²çª
**é—®é¢˜**ï¼šæ•°æ®åº“ä½¿ç”¨snake_caseï¼Œå‰ç«¯ä½¿ç”¨camelCase
**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// åœ¨APIå±‚è¿›è¡Œå‘½åè½¬æ¢
interface DatabaseUser {
  user_id: string
  created_at: string
  display_name: string
}

interface ApiUser {
  userId: string
  createdAt: string
  displayName: string
}

// è½¬æ¢å‡½æ•°
function transformUserFromDb(dbUser: DatabaseUser): ApiUser {
  return {
    userId: dbUser.user_id,
    createdAt: dbUser.created_at,
    displayName: dbUser.display_name
  }
}
```

#### 9.5.2 å†å²ä»£ç å‘½åä¸ä¸€è‡´
**é—®é¢˜**ï¼šç°æœ‰ä»£ç åº“ä¸­å­˜åœ¨ä¸åŒçš„å‘½åé£æ ¼
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **æ¸è¿›å¼é‡æ„**ï¼šæ–°ä»£ç ä¸¥æ ¼éµå¾ªè§„èŒƒï¼Œæ—§ä»£ç é€æ­¥é‡æ„
2. **åˆ›å»ºåˆ«å**ï¼šä¸ºæ—§çš„å‘½ååˆ›å»ºæ–°çš„åˆ«åï¼Œé€æ­¥è¿ç§»
3. **è‡ªåŠ¨åŒ–é‡æ„å·¥å…·**ï¼šä½¿ç”¨IDEçš„é‡æ„åŠŸèƒ½æ‰¹é‡ä¿®æ”¹

#### 9.5.3 ç¬¬ä¸‰æ–¹åº“å‘½åå†²çª
**é—®é¢˜**ï¼šç¬¬ä¸‰æ–¹åº“çš„å‘½åé£æ ¼ä¸é¡¹ç›®è§„èŒƒä¸ä¸€è‡´
**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// åˆ›å»ºåŒ…è£…å±‚ç»Ÿä¸€å‘½åé£æ ¼
import { someLibraryFunction as libFunction } from 'third-party-lib'

export const calculateUserScore = (data: UserData) => {
  return libFunction(data) // å†…éƒ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“
}
```

### 9.6 è§„èŒƒæ›´æ–°å’Œç»´æŠ¤

#### 9.6.1 è§„èŒƒç‰ˆæœ¬ç®¡ç†
- **ç‰ˆæœ¬å·**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ç®¡ç†å‘½åè§„èŒƒæ–‡æ¡£
- **å˜æ›´æ—¥å¿—**ï¼šè®°å½•æ¯æ¬¡è§„èŒƒå˜æ›´çš„åŸå› å’Œå½±å“
- **å‘åå…¼å®¹**ï¼šæ–°è§„èŒƒåº”è¯¥å°½é‡å‘åå…¼å®¹
- **è¿ç§»æŒ‡å—**ï¼šæä¾›æ—§è§„èŒƒåˆ°æ–°è§„èŒƒçš„è¿ç§»æŒ‡å—

#### 9.6.2 å›¢é˜Ÿåé¦ˆæœºåˆ¶
- **å®šæœŸå›é¡¾**ï¼šæ¯å­£åº¦å›é¡¾å‘½åè§„èŒƒçš„æ‰§è¡Œæ•ˆæœ
- **é—®é¢˜æ”¶é›†**ï¼šå»ºç«‹æ¸ é“æ”¶é›†å›¢é˜Ÿåœ¨æ‰§è¡Œä¸­é‡åˆ°çš„é—®é¢˜
- **è§„èŒƒä¼˜åŒ–**ï¼šæ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µä¼˜åŒ–å’Œè°ƒæ•´è§„èŒƒ
- **æœ€ä½³å®è·µåˆ†äº«**ï¼šåˆ†äº«å›¢é˜Ÿå†…çš„å‘½åæœ€ä½³å®è·µ

---

## é™„å½•

### A. å¿«é€Ÿå‚è€ƒè¡¨

| ä¸Šä¸‹æ–‡ | æ ¼å¼ | ç¤ºä¾‹ |
|--------|------|------|
| Reactç»„ä»¶æ–‡ä»¶ | PascalCase.tsx | `GameBoard.tsx` |
| æ™®é€šæ–‡ä»¶ | camelCase.ts | `gameHelper.ts` |
| ç›®å½• | kebab-case | `user-profile/` |
| Reactç»„ä»¶ | PascalCase | `GameBoard` |
| å‡½æ•°/å˜é‡ | camelCase | `calculateScore` |
| å¸¸é‡ | UPPER_SNAKE_CASE | `MAX_SCORE` |
| æ¥å£ | PascalCase | `UserData` |
| ç±»å‹ | PascalCase | `GameStatus` |
| æšä¸¾ | PascalCase | `GameDifficulty` |
| æšä¸¾å€¼ | UPPER_SNAKE_CASE | `VERY_HARD` |
| æ•°æ®åº“è¡¨ | snake_case | `game_sessions` |
| æ•°æ®åº“å­—æ®µ | snake_case | `user_id` |
| APIè·¯å¾„ | kebab-case | `/api/game-sessions` |
| ç¯å¢ƒå˜é‡ | UPPER_SNAKE_CASE | `DATABASE_URL` |
| Gitåˆ†æ”¯ | type/kebab-case | `feature/user-auth` |
| CSSç±» | kebab-case | `game-board` |

### B. ç¦ç”¨è¯æ±‡åˆ—è¡¨

**å®Œå…¨ç¦æ­¢**ï¼š
- `data`, `info`, `item`, `thing`, `object`
- `temp`, `tmp`, `test` (é™¤æµ‹è¯•æ–‡ä»¶å¤–)
- `a`, `b`, `c`, `x`, `y`, `z` (å•å­—æ¯å˜é‡)
- `foo`, `bar`, `baz` (ç¤ºä¾‹ä»£ç ç”¨è¯)

**è°¨æ…ä½¿ç”¨**ï¼š
- `id` (å¯ç”¨ï¼Œä½†è¦æ˜ç¡®è¡¨ç¤ºä»€ä¹ˆçš„ID)
- `url`, `api` (å¹¿æ³›è®¤çŸ¥çš„ç¼©å†™ï¼Œå¯ä»¥ä½¿ç”¨)
- `config`, `utils` (å¯ç”¨ï¼Œä½†è¦åœ¨åˆé€‚çš„ä¸Šä¸‹æ–‡)

### C. å·¥å…·æ¨è

**ä»£ç æ ¼å¼åŒ–**ï¼š
- Prettier: è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–
- ESLint: ä»£ç è´¨é‡å’Œé£æ ¼æ£€æŸ¥
- TypeScript: ç±»å‹å®‰å…¨å’Œæ¥å£è§„èŒƒ

**Gitå·¥å…·**ï¼š
- Husky: Git hooksç®¡ç†
- Commitizen: æ ‡å‡†åŒ–æäº¤ä¿¡æ¯
- Conventional Changelog: è‡ªåŠ¨ç”Ÿæˆå˜æ›´æ—¥å¿—

**æ–‡æ¡£å·¥å…·**ï¼š
- JSDoc: ä»£ç æ³¨é‡Šç”Ÿæˆæ–‡æ¡£
- TypeDoc: TypeScriptæ–‡æ¡£ç”Ÿæˆ
- OpenAPI: APIæ–‡æ¡£è§„èŒƒ

è¿™ä»½å‘½åè§„èŒƒæ–‡æ¡£ä¸ºæ•°å›åœ¨çº¿æ¸¸æˆå¹³å°é¡¹ç›®æä¾›äº†å…¨é¢çš„å‘½åæŒ‡å¯¼ï¼Œç¡®ä¿ä»£ç åº“çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å›¢é˜Ÿæˆå‘˜åº”è¯¥ä¸¥æ ¼éµå¾ªè¿™äº›è§„èŒƒï¼Œå¹¶åœ¨ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­ç›¸äº’ç›‘ç£æ‰§è¡Œã€‚